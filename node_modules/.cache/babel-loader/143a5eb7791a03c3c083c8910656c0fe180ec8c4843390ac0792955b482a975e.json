{"ast":null,"code":"var _jsxFileName = \"/Users/seowoo/Desktop/neo_test/wifiapp/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Route, Routes, useLocation } from 'react-router-dom';\nimport { ThemeProvider } from 'styled-components';\nimport GlobalStyles from './styles/GlobalStyles';\nimport { Notifications } from './utils/Notifications';\nimport './App.css';\nimport * as ROUTES from './routes';\nimport PrivateRoute from './components/PrivateRoute';\nimport DefaultLayout from './views/web/Default/DefaultLayout';\nimport Favorite from './views/web/Favorite/Favorite';\nimport Home from './views/web/Home/Home';\nimport NoteList from './views/web/NoteList/NoteList';\nimport PageDetail from './views/web/PageDetail/PageDetail';\nimport PageList from './views/web/PageList/PageList';\nimport Record from './views/web/Record/Record';\nimport Setting from './views/web/Setting/Setting';\nimport SignIn from './views/web/SignIn/SignIn';\nimport Tag from './views/web/Tag/Tag';\nimport TimeLine from './views/web/TimeLine/TimeLine';\nimport MobilePageDetailRouter from './components/MobilePageDetailRouter';\nimport MobilePenInfoRouter from './views/mobile/Pen/MobilePenInfoRouter';\nimport MobileDefaultLayout from './views/mobile/Default/MobileDefaultLayout';\nimport MobileFavorite from './views/mobile/Favorite/MobileFavorite';\nimport MobileNoteList from './views/mobile/NoteList/MobileNoteList';\nimport MobilePageList from './views/mobile/PageList/MobilePageList';\nimport MobileRecord from './views/mobile/Record/MobileRecord';\nimport MobileSearch from './views/mobile/Search/MobileSearch';\nimport MobileSetting from './views/mobile/Setting/MobileSetting';\nimport MobileTag from './views/mobile/Tag/MobileTag';\nimport MobileTagPages from './views/mobile/Tag/MobileTagPages';\nimport MobileTheme from './views/mobile/Theme/MobileTheme';\nimport MobileTimeLine from './views/mobile/TimeLine/MobileTimeLine';\nimport MobileDefaultSelectNote from './views/mobile/Default/MobileDefaultSelectNote';\nimport MobileProfile from './views/mobile/Profile/MobileProfile';\nimport MobileWithdrawal from './views/mobile/Profile/MobileWithdrawal';\nimport SettingInterCalender from './views/mobile/Setting/SettingInterCalender';\nimport SettingShareEmail from './views/mobile/Setting/SettingShareEmail';\nimport UserAuthReactElement from './views/mobile/SignIn/UserAuthReactElement';\nimport Recorder from './views/mobile/Record/Recorder';\nimport MobileReplayView from './views/mobile/Replay/MobileReplayView';\nimport SettingHwrLang from './views/mobile/Setting/SettingHwrLang';\nimport SettingAppVersion from './views/mobile/Setting/SettingAppVersion';\nimport PenBLEConnectDrawer from './views/mobile/Pen/PenBLEConnectDrawer';\nimport PenPassword from './views/mobile/Pen/PenPassword';\nimport PenFirmwareVersion from './views/mobile/Pen/PenFirmwareVersion';\nimport PenOfflineData from './views/mobile/Pen/PenOfflineData';\nimport DatabaseController from './controller/DatabaseController';\nimport NDPSyncController from './controller/NDPSyncController';\nimport useStores from './hooks/useStores';\nimport MobileSignIn from './views/mobile/SignIn/MobileSignIn';\nimport { NDP, NDP_LOGIN_CALLBACK_PATH, PenManager, getThumbManager, initLib, getInkManager, CachedInkStorage, makeNPageIdStrWithUuid } from './nl-lib2-importer';\nimport { LoadingStateEnum } from './structures/Enums';\nimport { lightTheme } from './styles/theme';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n(() => initLib())();\nconst App = () => {\n  _s();\n  // const [theme, settheme] = useState(neolabTheme.theme0_kr);\n  const isMobileDevice = true;\n  const location = useLocation();\n  console.log(location);\n  const {\n    userStore,\n    pageStore,\n    noteStore,\n    strokeStore,\n    audioStore\n  } = useStores();\n  const extra = userStore.userExtraData;\n  const [theme, setTheme] = useState(extra.theme); // 테마\n\n  const connectLiveRoom = async () => {\n    const ndp = NDP.instance;\n    const {\n      relay\n    } = ndp;\n    const rooms = await relay.getRoom();\n    if (rooms) {\n      var _rooms$resultElements;\n      const existed = rooms === null || rooms === void 0 ? void 0 : (_rooms$resultElements = rooms.resultElements) === null || _rooms$resultElements === void 0 ? void 0 : _rooms$resultElements.filter(e => e.ownerId === userStore.userData.id);\n      if (existed.length) {\n        relay.setRoom(existed[0]);\n      } else {\n        const room = await relay.createRoom();\n        if (room.entranceUrl) {\n          relay.setRoom(room);\n        } else {\n          console.error('Create Room Failed. Please check the server status.');\n          return;\n        }\n      }\n      await relay.connectRoom();\n      await relay.relayWS.join();\n      NDP.instance.relay.relayWS.on('UPLOAD_END', listenUploadEnd);\n    }\n  };\n  useEffect(() => {\n    NDPSyncController.getInstance();\n    PenManager.getInstance();\n    DatabaseController.getInstance();\n\n    // const ti = getThumbManager(); //여기서 init 해주지 않으면 ready가 pending이어서 진행되지 않음\n  }, []);\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [location]);\n  useEffect(() => {\n    async function getUserStrokes() {\n      // const asyncIterableStroke = NDP.instance.inkStore.getStrokeByStrokeIter(0);\n      // for await (const pages of asyncIterableStroke) {\n      //   NDPSyncController.instance.updateInkStoreage(pages);\n      // }\n    }\n    async function getNoteList() {\n      await noteStore.loadLocalNoteList();\n      await pageStore.loadLocalPages();\n      strokeStore.setStrokeLoading(LoadingStateEnum.SUCCESS);\n    }\n    if (userStore.userData) {\n      getNoteList();\n      getUserStrokes();\n      connectLiveRoom();\n      audioStore.getRecordedPageList();\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userStore.userData]);\n\n  // 사용자 테마 세팅\n  useEffect(() => {\n    if (userStore.userExtraData) {\n      const {\n        theme\n      } = userStore.userExtraData;\n      setTheme(theme);\n    }\n  }, [userStore.userExtraData]);\n  const listenUploadEnd = async res => {\n    var _pages$length;\n    const lastUploadTime = await getInkManager().getLastSyncUploadTime();\n    const pages = await NDP.instance.inkStore.getStrokeByUpload(lastUploadTime, res.createdDate + 1000 // 업로드되는데 시간이 걸려서 1000ms 더해줘야함\n    );\n\n    const ln = (_pages$length = pages === null || pages === void 0 ? void 0 : pages.length) !== null && _pages$length !== void 0 ? _pages$length : 0;\n    if (ln) {\n      /**\n       * dummy 페이지이고, digital이 아닌 경우에만 해당\n       *\n       * 1. noteUUID가 PageStore와 NoteStore 있는경우\n       *    - pageUUID만 바꿔주면 된다\n       * 2. noteUUID도 새로 받은 상황\n       *    - noteStore에 가서 noteId도 바꿔주고, pageStore에서 noteId, pageId 바꿔줘야 함\n       */\n\n      let needToBeReplaced = false;\n      let dummyNoteId = '';\n      let dummyPageId = '';\n      let dummySobp = {};\n\n      // eslint-disable-next-line no-restricted-syntax\n      for (const page of pages) {\n        const targetNote = noteStore.noteList.find(e => e.id === page.noteUUID);\n        if (targetNote) {\n          const targetPage = pageStore.allPageList[targetNote.id].find(e => e.id === page.pageUUID);\n          if (targetPage) {\n            //페이지도 있다? 그럼 할 거 없음\n            break;\n          } else {\n            //노트는 있는데 페이지는 없는 경우\n            //더미로 들어가있다는 뜻. PageStore에서 sobp랑 dummy로 찾아\n            const dummyPage = pageStore.allPageList[targetNote.id].find(e => {\n              if (e.section === page.section && e.owner === page.owner && e.bookCode === page.bookCode && e.dummy) {\n                return true;\n              }\n              return false;\n            });\n            if (dummyPage !== undefined) {\n              dummyPageId = dummyPage.id;\n              dummyPage.dummy = false;\n              dummyPage.id = page.pageUUID;\n              dummyPage.noteId = page.noteUUID;\n            }\n            needToBeReplaced = true;\n            dummySobp = {\n              section: dummyPage.section,\n              owner: dummyPage.owner,\n              book: dummyPage.bookCode,\n              page: dummyPage.pageNumber,\n              pageUuid: dummyPageId,\n              noteUuid: targetNote.id\n            };\n          }\n        } else {\n          //노트도 처음 생성하는 경우. 현재는 더미 노트로 존재\n          const dummyNote = noteStore.noteList.find(e => {\n            if (e.section === page.section && e.owner === page.owner && e.bookCode === page.bookCode && e.dummy) {\n              return true;\n            }\n            return false;\n          });\n          if (dummyNote !== undefined) {\n            dummyNoteId = dummyNote.id;\n            dummyNote.dummy = false;\n            pageStore.allPageList[page.noteUUID] = [];\n            pageStore.allPageList[page.noteUUID] = pageStore.allPageList[dummyNote.id];\n            delete pageStore.allPageList[dummyNote.id];\n            dummyNote.id = page.noteUUID;\n          }\n          const dummyPage = pageStore.allPageList[page.noteUUID].find(e => {\n            if (e.section === page.section && e.owner === page.owner && e.bookCode === page.bookCode && e.dummy) {\n              return true;\n            }\n            return false;\n          });\n          if (dummyPage !== undefined) {\n            dummyPageId = dummyPage.id;\n            dummyPage.dummy = false;\n            dummyPage.id = page.pageUUID;\n            dummyPage.noteId = page.noteUUID;\n          }\n          needToBeReplaced = true;\n          dummySobp = {\n            section: dummyPage.section,\n            owner: dummyPage.owner,\n            book: dummyPage.bookCode,\n            page: dummyPage.pageNumber,\n            pageUuid: dummyPageId,\n            noteUuid: dummyNoteId\n          };\n        }\n        const dummySobpId = makeNPageIdStrWithUuid(dummySobp);\n        const strokesOnDummyPage = CachedInkStorage.instance.completedOnPage.get(dummySobpId);\n        if (strokesOnDummyPage.arr.array) {\n          for (const stroke of strokesOnDummyPage.arr.array) {\n            stroke.pageUuid = page.pageUUID;\n            stroke.noteUuid = page.noteUUID;\n          }\n          const realSobpId = makeNPageIdStrWithUuid({\n            section: page.section,\n            owner: page.owner,\n            book: page.bookCode,\n            page: page.pageNumber,\n            pageUuid: page.pageUUID,\n            noteUuid: page.noteUUID\n          });\n          CachedInkStorage.instance.completedOnPage.set(realSobpId, strokesOnDummyPage);\n          CachedInkStorage.instance.completedOnPage.delete(dummySobpId);\n        }\n      }\n      const thumbManager = getThumbManager();\n      for (let i = 0; i < ln; i++) {\n        const pr = thumbManager.invalidateIfNeeded({\n          noteId: pages[i].noteUUID,\n          pageId: pages[i].pageUUID,\n          strokeLastUploadTime: res.createdDate,\n          doNotNotify: false,\n          force: true,\n          needToBeReplaced\n        });\n        await pr;\n      }\n    }\n  };\n  const saveStroke = event => {\n    // const { stroke } = event;\n    // stroke.pageUuid = pageStore.currentPage.id;\n    // stroke.noteUuid = pageStore.currentPage.noteId;\n    // DatabaseController.instance.saveStroke(stroke);\n  };\n  const handleCompletedDot = event => {\n    const {\n      stroke\n    } = event;\n    stroke.pageUuid = pageStore.currentPage.id;\n    stroke.noteUuid = pageStore.currentPage.noteId;\n\n    //live는 dot로 보내니까 여기서 중복으로 보내면 안됨\n    if (!event.isLive) {\n      NDPSyncController.instance.handleCompletedDot(event);\n    }\n  };\n  useEffect(() => {});\n  return (\n    /*#__PURE__*/\n    // 임시조치\n    _jsxDEV(ThemeProvider, {\n      theme: theme === 0 ? lightTheme : lightTheme,\n      children: [/*#__PURE__*/_jsxDEV(GlobalStyles, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Notifications, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(PenBLEConnectDrawer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Recorder, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 7\n      }, this), isMobileDevice ? /*#__PURE__*/_jsxDEV(Routes, {\n        location: location,\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signIn\",\n          element: /*#__PURE__*/_jsxDEV(MobileSignIn, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: NDP_LOGIN_CALLBACK_PATH,\n          element: /*#__PURE__*/_jsxDEV(UserAuthReactElement, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          element: /*#__PURE__*/_jsxDEV(MobileSignIn, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          element: /*#__PURE__*/_jsxDEV(PrivateRoute, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 27\n          }, this),\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            element: /*#__PURE__*/_jsxDEV(MobileDefaultLayout, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 29\n            }, this),\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/\",\n              element: /*#__PURE__*/_jsxDEV(MobileTimeLine, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 40\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: ROUTES.MAIN_TIMELINE,\n              element: /*#__PURE__*/_jsxDEV(MobileTimeLine, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 59\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: ROUTES.MAIN_NOTE_LIST,\n              element: /*#__PURE__*/_jsxDEV(MobileNoteList, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 26\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: ROUTES.MAIN_SETTING,\n              element: /*#__PURE__*/_jsxDEV(MobileSetting, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 58\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_PAGE_LIST,\n            element: /*#__PURE__*/_jsxDEV(MobilePageList, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 58\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_TAG,\n            element: /*#__PURE__*/_jsxDEV(MobileTag, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 52\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_TAG_PAGE,\n            element: /*#__PURE__*/_jsxDEV(MobileTagPages, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_SEARCH,\n            element: /*#__PURE__*/_jsxDEV(MobileSearch, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 55\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_RECORD,\n            element: /*#__PURE__*/_jsxDEV(MobileRecord, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 55\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_FAVORITE,\n            element: /*#__PURE__*/_jsxDEV(MobileFavorite, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_THEME,\n            element: /*#__PURE__*/_jsxDEV(MobileTheme, {\n              setTheme: setTheme\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 24\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_PROFILE,\n            element: /*#__PURE__*/_jsxDEV(MobileProfile, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 56\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_PEN_ROOT,\n            element: /*#__PURE__*/_jsxDEV(MobilePenInfoRouter, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 24\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_SHARE_EMAIL,\n            element: /*#__PURE__*/_jsxDEV(SettingShareEmail, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 24\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_INTER_CAL,\n            element: /*#__PURE__*/_jsxDEV(SettingInterCalender, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 24\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_PAGE_DETAIL_ROOT,\n            element: /*#__PURE__*/_jsxDEV(MobilePageDetailRouter, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 24\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_SELECT_NOTE,\n            element: /*#__PURE__*/_jsxDEV(MobileDefaultSelectNote, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 24\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_WITHDRAWAL,\n            element: /*#__PURE__*/_jsxDEV(MobileWithdrawal, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 24\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_REPLAY,\n            element: /*#__PURE__*/_jsxDEV(MobileReplayView, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 55\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_HWR_LANG,\n            element: /*#__PURE__*/_jsxDEV(SettingHwrLang, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_APP_VERSION,\n            element: /*#__PURE__*/_jsxDEV(SettingAppVersion, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 24\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_PEN_PASSWORD,\n            element: /*#__PURE__*/_jsxDEV(PenPassword, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 61\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_PEN_FIRMWARE_VERSION,\n            element: /*#__PURE__*/_jsxDEV(PenFirmwareVersion, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 24\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_PEN_OFFLINE_DATA,\n            element: /*#__PURE__*/_jsxDEV(PenOfflineData, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 24\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signIn\",\n          element: /*#__PURE__*/_jsxDEV(SignIn, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: NDP_LOGIN_CALLBACK_PATH,\n          element: /*#__PURE__*/_jsxDEV(UserAuthReactElement, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          element: /*#__PURE__*/_jsxDEV(SignIn, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          element: /*#__PURE__*/_jsxDEV(PrivateRoute, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 27\n          }, this),\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            element: /*#__PURE__*/_jsxDEV(DefaultLayout, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 29\n            }, this),\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/\",\n              element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 40\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: ROUTES.MAIN_TIMELINE,\n              element: /*#__PURE__*/_jsxDEV(TimeLine, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 59\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: ROUTES.MAIN_NOTE_LIST,\n              element: /*#__PURE__*/_jsxDEV(NoteList, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 60\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: ROUTES.MAIN_PAGE_LIST,\n              element: /*#__PURE__*/_jsxDEV(PageList, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 60\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: ROUTES.MAIN_TAG,\n              element: /*#__PURE__*/_jsxDEV(Tag, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 54\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: ROUTES.MAIN_FAVORITE,\n              element: /*#__PURE__*/_jsxDEV(Favorite, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 59\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: ROUTES.MAIN_RECORD,\n              element: /*#__PURE__*/_jsxDEV(Record, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 57\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: ROUTES.MAIN_SETTING,\n              element: /*#__PURE__*/_jsxDEV(Setting, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 58\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: ROUTES.MAIN_PAGE_DETAIL,\n            element: /*#__PURE__*/_jsxDEV(PageDetail, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 60\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 5\n    }, this)\n  );\n};\n_s(App, \"tQ573iVwpNiq5E9jxw5KqBCPrTY=\", false, function () {\n  return [useLocation, useStores];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","Route","Routes","useLocation","ThemeProvider","GlobalStyles","Notifications","ROUTES","PrivateRoute","DefaultLayout","Favorite","Home","NoteList","PageDetail","PageList","Record","Setting","SignIn","Tag","TimeLine","MobilePageDetailRouter","MobilePenInfoRouter","MobileDefaultLayout","MobileFavorite","MobileNoteList","MobilePageList","MobileRecord","MobileSearch","MobileSetting","MobileTag","MobileTagPages","MobileTheme","MobileTimeLine","MobileDefaultSelectNote","MobileProfile","MobileWithdrawal","SettingInterCalender","SettingShareEmail","UserAuthReactElement","Recorder","MobileReplayView","SettingHwrLang","SettingAppVersion","PenBLEConnectDrawer","PenPassword","PenFirmwareVersion","PenOfflineData","DatabaseController","NDPSyncController","useStores","MobileSignIn","NDP","NDP_LOGIN_CALLBACK_PATH","PenManager","getThumbManager","initLib","getInkManager","CachedInkStorage","makeNPageIdStrWithUuid","LoadingStateEnum","lightTheme","jsxDEV","_jsxDEV","App","_s","isMobileDevice","location","console","log","userStore","pageStore","noteStore","strokeStore","audioStore","extra","userExtraData","theme","setTheme","connectLiveRoom","ndp","instance","relay","rooms","getRoom","_rooms$resultElements","existed","resultElements","filter","e","ownerId","userData","id","length","setRoom","room","createRoom","entranceUrl","error","connectRoom","relayWS","join","on","listenUploadEnd","getInstance","window","scrollTo","getUserStrokes","getNoteList","loadLocalNoteList","loadLocalPages","setStrokeLoading","SUCCESS","getRecordedPageList","res","_pages$length","lastUploadTime","getLastSyncUploadTime","pages","inkStore","getStrokeByUpload","createdDate","ln","needToBeReplaced","dummyNoteId","dummyPageId","dummySobp","page","targetNote","noteList","find","noteUUID","targetPage","allPageList","pageUUID","dummyPage","section","owner","bookCode","dummy","undefined","noteId","book","pageNumber","pageUuid","noteUuid","dummyNote","dummySobpId","strokesOnDummyPage","completedOnPage","get","arr","array","stroke","realSobpId","set","delete","thumbManager","i","pr","invalidateIfNeeded","pageId","strokeLastUploadTime","doNotNotify","force","saveStroke","event","handleCompletedDot","currentPage","isLive","children","fileName","_jsxFileName","lineNumber","columnNumber","path","element","MAIN_TIMELINE","MAIN_NOTE_LIST","MAIN_SETTING","MAIN_PAGE_LIST","MAIN_TAG","MAIN_TAG_PAGE","MAIN_SEARCH","MAIN_RECORD","MAIN_FAVORITE","MAIN_THEME","MAIN_PROFILE","MAIN_PEN_ROOT","MAIN_SHARE_EMAIL","MAIN_INTER_CAL","MAIN_PAGE_DETAIL_ROOT","MAIN_SELECT_NOTE","MAIN_WITHDRAWAL","MAIN_REPLAY","MAIN_HWR_LANG","MAIN_APP_VERSION","MAIN_PEN_PASSWORD","MAIN_PEN_FIRMWARE_VERSION","MAIN_PEN_OFFLINE_DATA","MAIN_PAGE_DETAIL","_c","$RefreshReg$"],"sources":["/Users/seowoo/Desktop/neo_test/wifiapp/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Route, Routes, useLocation } from 'react-router-dom';\nimport { ThemeProvider } from 'styled-components';\nimport GlobalStyles from './styles/GlobalStyles';\nimport { Notifications } from './utils/Notifications';\n\nimport './App.css';\nimport * as ROUTES from './routes';\n\nimport PrivateRoute from './components/PrivateRoute';\n\nimport DefaultLayout from './views/web/Default/DefaultLayout';\nimport Favorite from './views/web/Favorite/Favorite';\nimport Home from './views/web/Home/Home';\nimport NoteList from './views/web/NoteList/NoteList';\nimport PageDetail from './views/web/PageDetail/PageDetail';\nimport PageList from './views/web/PageList/PageList';\nimport Record from './views/web/Record/Record';\nimport Setting from './views/web/Setting/Setting';\nimport SignIn from './views/web/SignIn/SignIn';\nimport Tag from './views/web/Tag/Tag';\nimport TimeLine from './views/web/TimeLine/TimeLine';\n\nimport MobilePageDetailRouter from './components/MobilePageDetailRouter';\nimport MobilePenInfoRouter from './views/mobile/Pen/MobilePenInfoRouter';\nimport MobileDefaultLayout from './views/mobile/Default/MobileDefaultLayout';\nimport MobileFavorite from './views/mobile/Favorite/MobileFavorite';\nimport MobileNoteList from './views/mobile/NoteList/MobileNoteList';\nimport MobilePageList from './views/mobile/PageList/MobilePageList';\nimport MobileRecord from './views/mobile/Record/MobileRecord';\nimport MobileSearch from './views/mobile/Search/MobileSearch';\nimport MobileSetting from './views/mobile/Setting/MobileSetting';\nimport MobileTag from './views/mobile/Tag/MobileTag';\nimport MobileTagPages from './views/mobile/Tag/MobileTagPages';\nimport MobileTheme from './views/mobile/Theme/MobileTheme';\nimport MobileTimeLine from './views/mobile/TimeLine/MobileTimeLine';\nimport MobileDefaultSelectNote from './views/mobile/Default/MobileDefaultSelectNote';\nimport MobileProfile from './views/mobile/Profile/MobileProfile';\nimport MobileWithdrawal from './views/mobile/Profile/MobileWithdrawal';\nimport SettingInterCalender from './views/mobile/Setting/SettingInterCalender';\nimport SettingShareEmail from './views/mobile/Setting/SettingShareEmail';\nimport UserAuthReactElement from './views/mobile/SignIn/UserAuthReactElement';\nimport Recorder from './views/mobile/Record/Recorder';\nimport MobileReplayView from './views/mobile/Replay/MobileReplayView';\nimport SettingHwrLang from './views/mobile/Setting/SettingHwrLang';\nimport SettingAppVersion from './views/mobile/Setting/SettingAppVersion';\nimport PenBLEConnectDrawer from './views/mobile/Pen/PenBLEConnectDrawer';\nimport PenPassword from './views/mobile/Pen/PenPassword';\nimport PenFirmwareVersion from './views/mobile/Pen/PenFirmwareVersion';\nimport PenOfflineData from './views/mobile/Pen/PenOfflineData';\n\nimport DatabaseController from './controller/DatabaseController';\nimport NDPSyncController from './controller/NDPSyncController';\nimport useStores from './hooks/useStores';\nimport MobileSignIn from './views/mobile/SignIn/MobileSignIn';\n\nimport {\n  NDPInkStorePage,\n  NDP,\n  NDP_LOGIN_CALLBACK_PATH,\n  PenManager,\n  getThumbManager,\n  initLib,\n  getInkManager,\n  CachedInkStorage,\n  makeNPageIdStrWithUuid,\n} from './nl-lib2-importer';\nimport { LoadingStateEnum } from './structures/Enums';\nimport { darkTheme, lightTheme } from './styles/theme';\n\n(() => initLib())();\n\nconst App = () => {\n  // const [theme, settheme] = useState(neolabTheme.theme0_kr);\n  const isMobileDevice = true;\n  const location = useLocation();\n  console.log(location);\n\n  const { userStore, pageStore, noteStore, strokeStore, audioStore } =\n    useStores();\n  const extra = userStore.userExtraData;\n  const [theme, setTheme] = useState(extra.theme); // 테마\n\n  const connectLiveRoom = async () => {\n    const ndp = NDP.instance;\n    const { relay } = ndp;\n\n    const rooms = await relay.getRoom();\n\n    if (rooms) {\n      const existed = rooms?.resultElements?.filter(\n        (e) => e.ownerId === userStore.userData.id,\n      );\n\n      if (existed.length) {\n        relay.setRoom(existed[0]);\n      } else {\n        const room = await relay.createRoom();\n        if (room.entranceUrl) {\n          relay.setRoom(room);\n        } else {\n          console.error('Create Room Failed. Please check the server status.');\n          return;\n        }\n      }\n      await relay.connectRoom();\n\n      await relay.relayWS.join();\n\n      NDP.instance.relay.relayWS.on('UPLOAD_END', listenUploadEnd);\n    }\n  };\n\n  useEffect(() => {\n    NDPSyncController.getInstance();\n    PenManager.getInstance();\n    DatabaseController.getInstance();\n\n    // const ti = getThumbManager(); //여기서 init 해주지 않으면 ready가 pending이어서 진행되지 않음\n  }, []);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [location]);\n\n  useEffect(() => {\n    async function getUserStrokes() {\n      // const asyncIterableStroke = NDP.instance.inkStore.getStrokeByStrokeIter(0);\n      // for await (const pages of asyncIterableStroke) {\n      //   NDPSyncController.instance.updateInkStoreage(pages);\n      // }\n    }\n\n    async function getNoteList() {\n      await noteStore.loadLocalNoteList();\n      await pageStore.loadLocalPages();\n      strokeStore.setStrokeLoading(LoadingStateEnum.SUCCESS);\n    }\n\n    if (userStore.userData) {\n      getNoteList();\n      getUserStrokes();\n      connectLiveRoom();\n      audioStore.getRecordedPageList();\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userStore.userData]);\n\n  // 사용자 테마 세팅\n  useEffect(() => {\n    if (userStore.userExtraData) {\n      const { theme } = userStore.userExtraData;\n      setTheme(theme);\n    }\n  }, [userStore.userExtraData]);\n\n  const listenUploadEnd = async (res) => {\n    const lastUploadTime = await getInkManager().getLastSyncUploadTime();\n    const pages = (await NDP.instance.inkStore.getStrokeByUpload(\n      lastUploadTime,\n      res.createdDate + 1000, // 업로드되는데 시간이 걸려서 1000ms 더해줘야함\n    )) as NDPInkStorePage[];\n    const ln = pages?.length ?? 0;\n\n    if (ln) {\n      /**\n       * dummy 페이지이고, digital이 아닌 경우에만 해당\n       *\n       * 1. noteUUID가 PageStore와 NoteStore 있는경우\n       *    - pageUUID만 바꿔주면 된다\n       * 2. noteUUID도 새로 받은 상황\n       *    - noteStore에 가서 noteId도 바꿔주고, pageStore에서 noteId, pageId 바꿔줘야 함\n       */\n\n      let needToBeReplaced = false;\n      let dummyNoteId = '';\n      let dummyPageId = '';\n      let dummySobp: any = {};\n\n      // eslint-disable-next-line no-restricted-syntax\n      for (const page of pages) {\n        const targetNote = noteStore.noteList.find(\n          (e) => e.id === page.noteUUID,\n        );\n\n        if (targetNote) {\n          const targetPage = pageStore.allPageList[targetNote.id].find(\n            (e) => e.id === page.pageUUID,\n          );\n\n          if (targetPage) {\n            //페이지도 있다? 그럼 할 거 없음\n            break;\n          } else {\n            //노트는 있는데 페이지는 없는 경우\n            //더미로 들어가있다는 뜻. PageStore에서 sobp랑 dummy로 찾아\n            const dummyPage = pageStore.allPageList[targetNote.id].find((e) => {\n              if (\n                e.section === page.section &&\n                e.owner === page.owner &&\n                e.bookCode === page.bookCode &&\n                e.dummy\n              ) {\n                return true;\n              }\n              return false;\n            });\n\n            if (dummyPage !== undefined) {\n              dummyPageId = dummyPage.id;\n              dummyPage.dummy = false;\n              dummyPage.id = page.pageUUID;\n              dummyPage.noteId = page.noteUUID;\n            }\n\n            needToBeReplaced = true;\n\n            dummySobp = {\n              section: dummyPage.section,\n              owner: dummyPage.owner,\n              book: dummyPage.bookCode,\n              page: dummyPage.pageNumber,\n              pageUuid: dummyPageId,\n              noteUuid: targetNote.id,\n            };\n          }\n        } else {\n          //노트도 처음 생성하는 경우. 현재는 더미 노트로 존재\n          const dummyNote = noteStore.noteList.find((e) => {\n            if (\n              e.section === page.section &&\n              e.owner === page.owner &&\n              e.bookCode === page.bookCode &&\n              e.dummy\n            ) {\n              return true;\n            }\n            return false;\n          });\n\n          if (dummyNote !== undefined) {\n            dummyNoteId = dummyNote.id;\n            dummyNote.dummy = false;\n\n            pageStore.allPageList[page.noteUUID] = [];\n            pageStore.allPageList[page.noteUUID] =\n              pageStore.allPageList[dummyNote.id];\n\n            delete pageStore.allPageList[dummyNote.id];\n\n            dummyNote.id = page.noteUUID;\n          }\n\n          const dummyPage = pageStore.allPageList[page.noteUUID].find((e) => {\n            if (\n              e.section === page.section &&\n              e.owner === page.owner &&\n              e.bookCode === page.bookCode &&\n              e.dummy\n            ) {\n              return true;\n            }\n            return false;\n          });\n\n          if (dummyPage !== undefined) {\n            dummyPageId = dummyPage.id;\n            dummyPage.dummy = false;\n            dummyPage.id = page.pageUUID;\n            dummyPage.noteId = page.noteUUID;\n          }\n\n          needToBeReplaced = true;\n          dummySobp = {\n            section: dummyPage.section,\n            owner: dummyPage.owner,\n            book: dummyPage.bookCode,\n            page: dummyPage.pageNumber,\n            pageUuid: dummyPageId,\n            noteUuid: dummyNoteId,\n          };\n        }\n\n        const dummySobpId = makeNPageIdStrWithUuid(dummySobp);\n        const strokesOnDummyPage =\n          CachedInkStorage.instance.completedOnPage.get(dummySobpId);\n        if (strokesOnDummyPage.arr.array) {\n          for (const stroke of strokesOnDummyPage.arr.array) {\n            stroke.pageUuid = page.pageUUID;\n            stroke.noteUuid = page.noteUUID;\n          }\n\n          const realSobpId = makeNPageIdStrWithUuid({\n            section: page.section,\n            owner: page.owner,\n            book: page.bookCode,\n            page: page.pageNumber,\n            pageUuid: page.pageUUID,\n            noteUuid: page.noteUUID,\n          });\n\n          CachedInkStorage.instance.completedOnPage.set(\n            realSobpId,\n            strokesOnDummyPage,\n          );\n          CachedInkStorage.instance.completedOnPage.delete(dummySobpId);\n        }\n      }\n\n      const thumbManager = getThumbManager();\n      for (let i = 0; i < ln; i++) {\n        const pr = thumbManager.invalidateIfNeeded({\n          noteId: pages[i].noteUUID,\n          pageId: pages[i].pageUUID,\n          strokeLastUploadTime: res.createdDate,\n          doNotNotify: false,\n          force: true,\n          needToBeReplaced,\n        });\n        await pr;\n      }\n    }\n  };\n\n  const saveStroke = (event) => {\n    // const { stroke } = event;\n    // stroke.pageUuid = pageStore.currentPage.id;\n    // stroke.noteUuid = pageStore.currentPage.noteId;\n    // DatabaseController.instance.saveStroke(stroke);\n  };\n\n  const handleCompletedDot = (event) => {\n    const { stroke } = event;\n    stroke.pageUuid = pageStore.currentPage.id;\n    stroke.noteUuid = pageStore.currentPage.noteId;\n\n    //live는 dot로 보내니까 여기서 중복으로 보내면 안됨\n    if (!event.isLive) {\n      NDPSyncController.instance.handleCompletedDot(event);\n    }\n  };\n\n  useEffect(() => {});\n  return (\n    // 임시조치\n    <ThemeProvider theme={theme === 0 ? lightTheme : lightTheme}>\n      <GlobalStyles />\n      <Notifications />\n      <PenBLEConnectDrawer />\n      <Recorder />\n      {isMobileDevice ? (\n        <Routes location={location}>\n          {/* Public route */}\n          <Route path=\"/signIn\" element={<MobileSignIn />} />\n          <Route\n            path={NDP_LOGIN_CALLBACK_PATH}\n            element={<UserAuthReactElement />}\n          />\n          <Route path=\"*\" element={<MobileSignIn />} />\n\n          {/* Private route */}\n          <Route element={<PrivateRoute />}>\n            <Route element={<MobileDefaultLayout />}>\n              <Route path=\"/\" element={<MobileTimeLine />} />\n              <Route path={ROUTES.MAIN_TIMELINE} element={<MobileTimeLine />} />\n              <Route\n                path={ROUTES.MAIN_NOTE_LIST}\n                element={<MobileNoteList />}\n              />\n              <Route path={ROUTES.MAIN_SETTING} element={<MobileSetting />} />\n            </Route>\n            <Route path={ROUTES.MAIN_PAGE_LIST} element={<MobilePageList />} />\n            <Route path={ROUTES.MAIN_TAG} element={<MobileTag />} />\n            <Route path={ROUTES.MAIN_TAG_PAGE} element={<MobileTagPages />} />\n            <Route path={ROUTES.MAIN_SEARCH} element={<MobileSearch />} />\n            <Route path={ROUTES.MAIN_RECORD} element={<MobileRecord />} />\n            <Route path={ROUTES.MAIN_FAVORITE} element={<MobileFavorite />} />\n            <Route\n              path={ROUTES.MAIN_THEME}\n              element={<MobileTheme setTheme={setTheme} />}\n            />\n            <Route path={ROUTES.MAIN_PROFILE} element={<MobileProfile />} />\n            <Route\n              path={ROUTES.MAIN_PEN_ROOT}\n              element={<MobilePenInfoRouter />}\n            />\n            <Route\n              path={ROUTES.MAIN_SHARE_EMAIL}\n              element={<SettingShareEmail />}\n            />\n            <Route\n              path={ROUTES.MAIN_INTER_CAL}\n              element={<SettingInterCalender />}\n            />\n            <Route\n              path={ROUTES.MAIN_PAGE_DETAIL_ROOT}\n              element={<MobilePageDetailRouter />}\n            />\n            <Route\n              path={ROUTES.MAIN_SELECT_NOTE}\n              element={<MobileDefaultSelectNote />}\n            />\n            <Route\n              path={ROUTES.MAIN_WITHDRAWAL}\n              element={<MobileWithdrawal />}\n            />\n            <Route path={ROUTES.MAIN_REPLAY} element={<MobileReplayView />} />\n            <Route path={ROUTES.MAIN_HWR_LANG} element={<SettingHwrLang />} />\n            <Route\n              path={ROUTES.MAIN_APP_VERSION}\n              element={<SettingAppVersion />}\n            />\n            <Route path={ROUTES.MAIN_PEN_PASSWORD} element={<PenPassword />} />\n            <Route\n              path={ROUTES.MAIN_PEN_FIRMWARE_VERSION}\n              element={<PenFirmwareVersion />}\n            />\n            <Route\n              path={ROUTES.MAIN_PEN_OFFLINE_DATA}\n              element={<PenOfflineData />}\n            />\n          </Route>\n        </Routes>\n      ) : (\n        <Routes>\n          {/* Public route */}\n          <Route path=\"/signIn\" element={<SignIn />} />\n          <Route\n            path={NDP_LOGIN_CALLBACK_PATH}\n            element={<UserAuthReactElement />}\n          />\n          <Route path=\"*\" element={<SignIn />} />\n\n          {/* Private route */}\n          <Route element={<PrivateRoute />}>\n            <Route element={<DefaultLayout />}>\n              <Route path=\"/\" element={<Home />} />\n              <Route path={ROUTES.MAIN_TIMELINE} element={<TimeLine />} />\n              <Route path={ROUTES.MAIN_NOTE_LIST} element={<NoteList />} />\n              <Route path={ROUTES.MAIN_PAGE_LIST} element={<PageList />} />\n              <Route path={ROUTES.MAIN_TAG} element={<Tag />} />\n              <Route path={ROUTES.MAIN_FAVORITE} element={<Favorite />} />\n              <Route path={ROUTES.MAIN_RECORD} element={<Record />} />\n              <Route path={ROUTES.MAIN_SETTING} element={<Setting />} />\n            </Route>\n            <Route path={ROUTES.MAIN_PAGE_DETAIL} element={<PageDetail />} />\n          </Route>\n        </Routes>\n      )}\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}