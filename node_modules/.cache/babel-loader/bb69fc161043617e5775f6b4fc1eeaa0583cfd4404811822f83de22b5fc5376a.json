{"ast":null,"code":"import warning from 'warning';\nimport React, { Component, PureComponent, isValidElement } from 'react';\nimport { ticks } from 'd3-array';\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _s, _e;\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nvar prfx = 'react-compound-slider:';\nfunction getSortByVal() {\n  var reversed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  return function sortByVal(a, b) {\n    if (a.val > b.val) {\n      return reversed ? -1 : 1;\n    }\n    if (b.val > a.val) {\n      return reversed ? 1 : -1;\n    }\n    return 0;\n  };\n}\nfunction getUpdatedHandles(handles, updateKey, updateValue) {\n  var reversed = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var index = handles.findIndex(function (v) {\n    return v.key === updateKey;\n  });\n  if (index !== -1) {\n    var _handles$index = handles[index],\n      key = _handles$index.key,\n      val = _handles$index.val;\n    if (val === updateValue) {\n      return handles;\n    }\n    return [].concat(_toConsumableArray(handles.slice(0, index)), [{\n      key: key,\n      val: updateValue\n    }], _toConsumableArray(handles.slice(index + 1))).sort(getSortByVal(reversed));\n  }\n  return handles;\n}\nfunction getSliderDomain(slider, vertical) {\n  if (!slider) {\n    return [0, 0];\n  }\n  var s = slider.getBoundingClientRect();\n  var d0 = vertical ? s.top : s.left;\n  var d1 = vertical ? s.bottom : s.right;\n  return [d0, d1];\n}\nfunction isNotValidTouch(_ref) {\n  var _ref$type = _ref.type,\n    type = _ref$type === void 0 ? '' : _ref$type,\n    touches = _ref.touches;\n  return !touches || touches.length > 1 || type.toLowerCase() === 'touchend' && touches.length > 0;\n}\nfunction getTouchPosition(vertical, e) {\n  return vertical ? e.touches[0].clientY : e.touches[0].pageX;\n}\nfunction getHandles() {\n  var values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var reversed = arguments.length > 1 ? arguments[1] : undefined;\n  var valueToStep = arguments.length > 2 ? arguments[2] : undefined;\n  var warn = arguments.length > 3 ? arguments[3] : undefined;\n  var changes = 0;\n  var handles = values.map(function (x) {\n    var val = valueToStep.getValue(x);\n    if (x !== val) {\n      changes += 1;\n      warning(!warn, \"\".concat(prfx, \" Invalid value encountered. Changing \").concat(x, \" to \").concat(val, \".\"));\n    }\n    return val;\n  }).map(function (val, i) {\n    return {\n      key: \"$$-\".concat(i),\n      val: val\n    };\n  }).sort(getSortByVal(reversed));\n  return {\n    handles: handles,\n    changes: changes\n  };\n}\n\n// default mode\nfunction mode1(_, next) {\n  return next;\n} // prevent duplicate values and crossing\n\nfunction mode2(curr, next) {\n  for (var i = 0; i < curr.length; i++) {\n    if (curr[i].key !== next[i].key) {\n      return curr;\n    }\n    if (next[i + 1] && next[i].val === next[i + 1].val) {\n      return curr;\n    }\n  }\n  return next;\n} // pushable mode\n\nfunction mode3(curr, next, step, reversed, getValue) {\n  var indexForMovingHandle = -1;\n  var handleMoveIsPositive = true;\n  for (var i = 0; i < curr.length; i++) {\n    var c = curr[i];\n    var n = next[i]; // make sure keys are in same order if not return curr\n\n    if (!n || n.key !== c.key) {\n      return curr;\n    } else if (n.val !== c.val) {\n      indexForMovingHandle = i;\n      handleMoveIsPositive = n.val - c.val > 0;\n    }\n  } // nothing has changed (shouldn't happen but just in case).\n\n  if (indexForMovingHandle === -1) {\n    return curr;\n  } else {\n    var increment = handleMoveIsPositive ? step : -step;\n    for (var _i = 0; _i < next.length; _i++) {\n      var n0 = next[_i];\n      var n1 = next[_i + 1];\n      if (n1 && n0.val === n1.val) {\n        if (_i === indexForMovingHandle) {\n          var newStep = n1.val + increment;\n          if (getValue(newStep) === newStep) {\n            var clone = getUpdatedHandles(next, n1.key, n1.val + increment, reversed);\n            var check = mode3(next, clone, step, reversed, getValue);\n            if (check === next) {\n              return curr;\n            } else {\n              return check;\n            }\n          } else {\n            return curr;\n          }\n        } else {\n          var _newStep = n0.val + increment;\n          if (getValue(_newStep) === _newStep) {\n            var _clone = getUpdatedHandles(next, n0.key, n0.val + increment, reversed);\n            var _check = mode3(next, _clone, step, reversed, getValue);\n            if (_check === next) {\n              return curr;\n            } else {\n              return _check;\n            }\n          } else {\n            return curr;\n          }\n        }\n      }\n    }\n  }\n  return next;\n}\nfunction callAll() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n  return function (e) {\n    return fns.forEach(function (fn) {\n      return fn && fn(e);\n    });\n  };\n}\nvar NOOP = function NOOP() {\n  return {\n    value: 0,\n    percent: 0\n  };\n};\nvar Rail = /*#__PURE__*/function (_Component) {\n  _inherits(Rail, _Component);\n  var _super = _createSuper(Rail);\n  function Rail() {\n    var _this;\n    _classCallCheck(this, Rail);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.getRailProps = function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _this$props = _this.props,\n        emitMouse = _this$props.emitMouse,\n        emitTouch = _this$props.emitTouch;\n      return _objectSpread2(_objectSpread2({}, props), {}, {\n        onMouseDown: callAll(props && props.onMouseDown, emitMouse),\n        onTouchStart: callAll(props && props.onTouchStart, emitTouch)\n      });\n    };\n    return _this;\n  }\n  _createClass(Rail, [{\n    key: \"render\",\n    value: function render() {\n      var getRailProps = this.getRailProps,\n        _this$props2 = this.props,\n        getEventData = _this$props2.getEventData,\n        _this$props2$activeHa = _this$props2.activeHandleID,\n        activeHandleID = _this$props2$activeHa === void 0 ? '' : _this$props2$activeHa,\n        children = _this$props2.children;\n      var renderedChildren = children({\n        getEventData: getEventData || NOOP,\n        activeHandleID: activeHandleID,\n        getRailProps: getRailProps\n      });\n      return renderedChildren && React.Children.only(renderedChildren);\n    }\n  }]);\n  return Rail;\n}(Component);\nvar Handles = /*#__PURE__*/function (_Component) {\n  _inherits(Handles, _Component);\n  var _super = _createSuper(Handles);\n  function Handles() {\n    var _this;\n    _classCallCheck(this, Handles);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.autofocus = function (e) {\n      if (e.target instanceof HTMLElement) {\n        e.target.focus();\n      }\n    };\n    _this.getHandleProps = function (id) {\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _this$props = _this.props,\n        emitKeyboard = _this$props.emitKeyboard,\n        emitMouse = _this$props.emitMouse,\n        emitTouch = _this$props.emitTouch;\n      return _objectSpread2(_objectSpread2({}, props), {}, {\n        onKeyDown: callAll(props && props.onKeyDown, function (e) {\n          return emitKeyboard && emitKeyboard(e, id);\n        }),\n        onMouseDown: callAll(props && props.onMouseDown, _this.autofocus, function (e) {\n          return emitMouse && emitMouse(e, id);\n        }),\n        onTouchStart: callAll(props && props.onTouchStart, function (e) {\n          return emitTouch && emitTouch(e, id);\n        })\n      });\n    };\n    return _this;\n  }\n  _createClass(Handles, [{\n    key: \"render\",\n    value: function render() {\n      var getHandleProps = this.getHandleProps,\n        _this$props2 = this.props,\n        _this$props2$activeHa = _this$props2.activeHandleID,\n        activeHandleID = _this$props2$activeHa === void 0 ? '' : _this$props2$activeHa,\n        children = _this$props2.children,\n        _this$props2$handles = _this$props2.handles,\n        handles = _this$props2$handles === void 0 ? [] : _this$props2$handles;\n      var renderedChildren = children({\n        handles: handles,\n        activeHandleID: activeHandleID,\n        getHandleProps: getHandleProps\n      });\n      return renderedChildren && React.Children.only(renderedChildren);\n    }\n  }]);\n  return Handles;\n}(Component);\nvar LinearScale = /*#__PURE__*/function () {\n  function LinearScale() {\n    _classCallCheck(this, LinearScale);\n    this.interpolator = void 0;\n    this.domain = [0, 1];\n    this.range = [0, 1];\n    this.domain = [0, 1];\n    this.range = [0, 1];\n    this.interpolator = null;\n  }\n  _createClass(LinearScale, [{\n    key: \"createInterpolator\",\n    value: function createInterpolator(domain, range) {\n      var _this = this;\n      var d0 = domain[0];\n      var d1 = domain[1];\n      var r0 = range[0];\n      var r1 = range[1];\n      if (d1 < d0) {\n        return function (x) {\n          return _this.interpolateValue(r1, r0)(_this.deinterpolateValue(d1, d0)(x));\n        };\n      } else {\n        return function (x) {\n          return _this.interpolateValue(r0, r1)(_this.deinterpolateValue(d0, d1)(x));\n        };\n      }\n    }\n  }, {\n    key: \"interpolateValue\",\n    value: function interpolateValue(a, b) {\n      return a = +a, b -= a, function i(t) {\n        return a + b * t;\n      };\n    }\n  }, {\n    key: \"deinterpolateValue\",\n    value: function deinterpolateValue(a, b) {\n      return (b -= a = +a) ? function (x) {\n        return (x - a) / b;\n      } : function () {\n        return b;\n      };\n    }\n  }, {\n    key: \"rescale\",\n    value: function rescale() {\n      this.interpolator = null;\n      return this;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue(x) {\n      var domain = this.domain,\n        range = this.range;\n      return (this.interpolator || (this.interpolator = this.createInterpolator(domain, range)))(+x);\n    }\n  }, {\n    key: \"setDomain\",\n    value: function setDomain(val) {\n      this.domain = [val[0], val[1]];\n      this.rescale();\n      return this;\n    }\n  }, {\n    key: \"getDomain\",\n    value: function getDomain() {\n      return this.domain;\n    }\n  }, {\n    key: \"setRange\",\n    value: function setRange(val) {\n      this.range = [val[0], val[1]];\n      return this;\n    }\n  }, {\n    key: \"getRange\",\n    value: function getRange() {\n      return this.range;\n    }\n  }, {\n    key: \"getTicks\",\n    value: function getTicks(count) {\n      var d = this.domain;\n      return ticks(d[0], d[d.length - 1], count ? count : 10);\n    }\n  }]);\n  return LinearScale;\n}();\nvar defaultGetEventData$1 = function defaultGetEventData() {\n  return {\n    value: 0,\n    percent: 0\n  };\n};\nvar Ticks = /*#__PURE__*/function (_Component) {\n  _inherits(Ticks, _Component);\n  var _super = _createSuper(Ticks);\n  function Ticks() {\n    _classCallCheck(this, Ticks);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Ticks, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        children = _this$props.children,\n        values = _this$props.values,\n        _this$props$scale = _this$props.scale,\n        scale = _this$props$scale === void 0 ? new LinearScale() : _this$props$scale,\n        _this$props$count = _this$props.count,\n        count = _this$props$count === void 0 ? 10 : _this$props$count,\n        _this$props$getEventD = _this$props.getEventData,\n        getEventData = _this$props$getEventD === void 0 ? defaultGetEventData$1 : _this$props$getEventD,\n        _this$props$activeHan = _this$props.activeHandleID,\n        activeHandleID = _this$props$activeHan === void 0 ? '' : _this$props$activeHan;\n      var ticks = (values ? values : scale.getTicks(count)).map(function (value) {\n        return {\n          id: \"$$-\".concat(value),\n          value: value,\n          percent: scale.getValue(value)\n        };\n      });\n      var renderedChildren = children({\n        getEventData: getEventData,\n        activeHandleID: activeHandleID,\n        ticks: ticks\n      });\n      return renderedChildren && React.Children.only(renderedChildren);\n    }\n  }]);\n  return Ticks;\n}(Component);\nvar defaultGetEventData = function defaultGetEventData() {\n  return {\n    value: 0,\n    percent: 0\n  };\n};\nvar Tracks = /*#__PURE__*/function (_Component) {\n  _inherits(Tracks, _Component);\n  var _super = _createSuper(Tracks);\n  function Tracks() {\n    var _this;\n    _classCallCheck(this, Tracks);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.getTrackProps = function (props) {\n      var _this$props = _this.props,\n        emitMouse = _this$props.emitMouse,\n        emitTouch = _this$props.emitTouch;\n      return _objectSpread2(_objectSpread2({}, props || {}), {}, {\n        onMouseDown: callAll(props && props.onMouseDown, emitMouse),\n        onTouchStart: callAll(props && props.onTouchStart, emitTouch)\n      });\n    };\n    return _this;\n  }\n  _createClass(Tracks, [{\n    key: \"render\",\n    value: function render() {\n      var getTrackProps = this.getTrackProps,\n        _this$props2 = this.props,\n        children = _this$props2.children,\n        _this$props2$left = _this$props2.left,\n        left = _this$props2$left === void 0 ? true : _this$props2$left,\n        _this$props2$right = _this$props2.right,\n        right = _this$props2$right === void 0 ? true : _this$props2$right,\n        _this$props2$scale = _this$props2.scale,\n        scale = _this$props2$scale === void 0 ? new LinearScale() : _this$props2$scale,\n        _this$props2$handles = _this$props2.handles,\n        handles = _this$props2$handles === void 0 ? [] : _this$props2$handles,\n        _this$props2$getEvent = _this$props2.getEventData,\n        getEventData = _this$props2$getEvent === void 0 ? defaultGetEventData : _this$props2$getEvent,\n        _this$props2$activeHa = _this$props2.activeHandleID,\n        activeHandleID = _this$props2$activeHa === void 0 ? '' : _this$props2$activeHa;\n      var domain = scale.getDomain();\n      var tracks = [];\n      for (var i = 0; i < handles.length + 1; i++) {\n        var source = handles[i - 1];\n        var target = handles[i];\n        if (i === 0 && left === true) {\n          source = {\n            id: '$',\n            value: domain[0],\n            percent: 0\n          };\n        } else if (i === handles.length && right === true) {\n          target = {\n            id: '$',\n            value: domain[1],\n            percent: 100\n          };\n        }\n        if (source && target) {\n          tracks.push({\n            id: \"\".concat(source.id, \"-\").concat(target.id),\n            source: source,\n            target: target\n          });\n        }\n      }\n      var renderedChildren = children({\n        getEventData: getEventData,\n        activeHandleID: activeHandleID,\n        tracks: tracks,\n        getTrackProps: getTrackProps\n      });\n      return renderedChildren && React.Children.only(renderedChildren);\n    }\n  }]);\n  return Tracks;\n}(Component);\nfunction clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\nvar DiscreteScale = /*#__PURE__*/_createClass(function DiscreteScale() {\n  var _this = this;\n  _classCallCheck(this, DiscreteScale);\n  this.step = 1;\n  this.domain = [0, 1];\n  this.range = [0, 1];\n  this.setDomain = function (val) {\n    _this.domain = [val[0], val[1]];\n    return _this;\n  };\n  this.setRange = function (val) {\n    _this.range = [val[0], val[1]];\n    return _this;\n  };\n  this.setStep = function (val) {\n    _this.step = val;\n    return _this;\n  };\n  this.getValue = function (x) {\n    var _this$domain = _slicedToArray(_this.domain, 2),\n      d0 = _this$domain[0],\n      d1 = _this$domain[1],\n      _this$range = _slicedToArray(_this.range, 2),\n      r0 = _this$range[0],\n      r1 = _this$range[1],\n      step = _this.step;\n    var p = (clamp(x, d0, d1) - d0) / (d1 - d0);\n    var b = step * Math.round(p * (r1 - r0) / step) + r0;\n    return clamp(b, r0 < r1 ? r0 : r1, r1 > r0 ? r1 : r0);\n  };\n});\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\nvar noop = function noop() {};\nvar compare = function compare(b) {\n  return function (m, d, i) {\n    return m && b[i] === d;\n  };\n};\nvar equal = function equal(a, b) {\n  return a === b || a.length === b.length && a.reduce(compare(b), true);\n};\nvar isRCSComponent = function isRCSComponent(item) {\n  if (! /*#__PURE__*/isValidElement(item)) {\n    return false;\n  }\n  var type = item.type;\n  var name = type ? type.name : '';\n  return name === Handles.name || name === Rail.name || name === Ticks.name || name === Tracks.name;\n};\nvar getNextValue = function getNextValue(curr, step, domain, reversed) {\n  var newVal = reversed ? curr - step : curr + step;\n  return reversed ? Math.max(domain[0], newVal) : Math.min(domain[1], newVal);\n};\nvar getPrevValue = function getPrevValue(curr, step, domain, reversed) {\n  var newVal = reversed ? curr + step : curr - step;\n  return reversed ? Math.min(domain[1], newVal) : Math.max(domain[0], newVal);\n};\nvar defaultDomain = [0, 100];\nvar Slider = /*#__PURE__*/function (_PureComponent) {\n  _inherits(Slider, _PureComponent);\n  var _super = _createSuper(Slider);\n  function Slider() {\n    var _this;\n    _classCallCheck(this, Slider);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      step: 0.1,\n      values: [],\n      domain: defaultDomain,\n      handles: [],\n      reversed: false,\n      activeHandleID: '',\n      valueToPerc: null,\n      valueToStep: null,\n      pixelToStep: null\n    };\n    _this.slider = /*#__PURE__*/React.createRef();\n    _this.onKeyDown = function (e, handleID) {\n      var validUpKeys = ['ArrowRight', 'ArrowUp'];\n      var validDownKeys = ['ArrowDown', 'ArrowLeft'];\n      var _assertThisInitialize = _assertThisInitialized(_this),\n        handles = _assertThisInitialize.state.handles,\n        _assertThisInitialize2 = _assertThisInitialize.props,\n        _assertThisInitialize3 = _assertThisInitialize2.step,\n        step = _assertThisInitialize3 === void 0 ? 0.1 : _assertThisInitialize3,\n        _assertThisInitialize4 = _assertThisInitialize2.reversed,\n        reversed = _assertThisInitialize4 === void 0 ? false : _assertThisInitialize4,\n        _assertThisInitialize5 = _assertThisInitialize2.vertical,\n        vertical = _assertThisInitialize5 === void 0 ? false : _assertThisInitialize5,\n        _assertThisInitialize6 = _assertThisInitialize2.domain,\n        domain = _assertThisInitialize6 === void 0 ? [0, 100] : _assertThisInitialize6;\n      var key = e.key || \"\".concat(e.keyCode);\n      if (!validUpKeys.concat(validDownKeys).includes(key)) {\n        return;\n      }\n      if (vertical) {\n        var _ref = [validDownKeys, validUpKeys];\n        validUpKeys = _ref[0];\n        validDownKeys = _ref[1];\n      }\n      e.stopPropagation && e.stopPropagation();\n      e.preventDefault && e.preventDefault();\n      var found = handles.find(function (value) {\n        return value.key === handleID;\n      });\n      if (!found) {\n        return;\n      }\n      var currVal = found.val;\n      var newVal = currVal;\n      if (validUpKeys.includes(key)) {\n        newVal = getNextValue(currVal, step, domain, reversed);\n      } else if (validDownKeys.includes(key)) {\n        newVal = getPrevValue(currVal, step, domain, reversed);\n      }\n      var nextHandles = handles.map(function (v) {\n        return v.key === handleID ? {\n          key: v.key,\n          val: newVal\n        } : v;\n      });\n      _this.submitUpdate(nextHandles, true);\n    };\n    _this.onMouseDown = function (e, handleID) {\n      _this.onStart(e, handleID, false);\n    };\n    _this.onTouchStart = function (e, handleID) {\n      if (isNotValidTouch(e)) {\n        return;\n      }\n      _this.onStart(e, handleID, true);\n    };\n    _this.getEventData = function (e, isTouch) {\n      var _assertThisInitialize7 = _assertThisInitialized(_this),\n        _assertThisInitialize8 = _assertThisInitialize7.state,\n        pixelToStep = _assertThisInitialize8.pixelToStep,\n        valueToPerc = _assertThisInitialize8.valueToPerc,\n        vertical = _assertThisInitialize7.props.vertical; // double check the dimensions of the slider\n      // @ts-ignore\n\n      pixelToStep.setDomain(getSliderDomain(_this.slider.current, vertical));\n      var value;\n      if (isTouch && e instanceof TouchEvent) {\n        // @ts-ignore\n        value = pixelToStep.getValue(getTouchPosition(vertical, e));\n      } else if (e instanceof MouseEvent) {\n        // @ts-ignore\n        value = pixelToStep.getValue(vertical ? e.clientY : e.pageX);\n      }\n      return {\n        value: value,\n        // @ts-ignore\n        percent: valueToPerc.getValue(value)\n      };\n    };\n    _this.onMouseMove = function (e) {\n      var _assertThisInitialize9 = _assertThisInitialized(_this),\n        _assertThisInitialize10 = _assertThisInitialize9.state,\n        curr = _assertThisInitialize10.handles,\n        pixelToStep = _assertThisInitialize10.pixelToStep,\n        _assertThisInitialize11 = _assertThisInitialize10.activeHandleID,\n        activeHandleID = _assertThisInitialize11 === void 0 ? '' : _assertThisInitialize11,\n        _assertThisInitialize12 = _assertThisInitialize9.props,\n        vertical = _assertThisInitialize12.vertical,\n        _assertThisInitialize13 = _assertThisInitialize12.reversed,\n        reversed = _assertThisInitialize13 === void 0 ? false : _assertThisInitialize13; // double check the dimensions of the slider\n      // @ts-ignore\n\n      pixelToStep.setDomain(getSliderDomain(_this.slider.current, vertical)); // find the closest value (aka step) to the event location\n      // @ts-ignore\n\n      var updateValue = pixelToStep.getValue(vertical ? e.clientY : e.pageX); // generate a \"candidate\" set of values - a suggestion of what to do\n\n      var nextHandles = getUpdatedHandles(curr, activeHandleID, updateValue, reversed); // submit the candidate values\n\n      _this.submitUpdate(nextHandles);\n    };\n    _this.onTouchMove = function (e) {\n      var _assertThisInitialize14 = _assertThisInitialized(_this),\n        _assertThisInitialize15 = _assertThisInitialize14.state,\n        curr = _assertThisInitialize15.handles,\n        pixelToStep = _assertThisInitialize15.pixelToStep,\n        activeHandleID = _assertThisInitialize15.activeHandleID,\n        _assertThisInitialize16 = _assertThisInitialize14.props,\n        vertical = _assertThisInitialize16.vertical,\n        reversed = _assertThisInitialize16.reversed;\n      if (pixelToStep === null || isNotValidTouch(e)) {\n        return;\n      } // double check the dimensions of the slider\n      // @ts-ignore\n\n      pixelToStep.setDomain(getSliderDomain(_this.slider.current, vertical)); // find the closest value (aka step) to the event location\n      // @ts-ignore\n\n      var updateValue = pixelToStep.getValue(getTouchPosition(vertical, e)); // generate a \"candidate\" set of values - a suggestion of what to do\n\n      var nextHandles = getUpdatedHandles(curr, activeHandleID, updateValue, reversed); // submit the candidate values\n\n      _this.submitUpdate(nextHandles);\n    };\n    _this.onMouseUp = function () {\n      var _assertThisInitialize17 = _assertThisInitialized(_this),\n        _assertThisInitialize18 = _assertThisInitialize17.state,\n        _assertThisInitialize19 = _assertThisInitialize18.handles,\n        handles = _assertThisInitialize19 === void 0 ? [] : _assertThisInitialize19,\n        activeHandleID = _assertThisInitialize18.activeHandleID,\n        _assertThisInitialize20 = _assertThisInitialize17.props,\n        _assertThisInitialize21 = _assertThisInitialize20.onChange,\n        onChange = _assertThisInitialize21 === void 0 ? noop : _assertThisInitialize21,\n        _assertThisInitialize22 = _assertThisInitialize20.onSlideEnd,\n        onSlideEnd = _assertThisInitialize22 === void 0 ? noop : _assertThisInitialize22;\n      onChange(handles.map(function (d) {\n        return d.val;\n      }));\n      onSlideEnd(handles.map(function (d) {\n        return d.val;\n      }), {\n        activeHandleID: activeHandleID\n      });\n      _this.setState({\n        activeHandleID: ''\n      });\n      if (isBrowser) {\n        document.removeEventListener('mousemove', _this.onMouseMove);\n        document.removeEventListener('mouseup', _this.onMouseUp);\n      }\n    };\n    _this.onTouchEnd = function () {\n      var _assertThisInitialize23 = _assertThisInitialized(_this),\n        _assertThisInitialize24 = _assertThisInitialize23.state,\n        handles = _assertThisInitialize24.handles,\n        activeHandleID = _assertThisInitialize24.activeHandleID,\n        _assertThisInitialize25 = _assertThisInitialize23.props,\n        _assertThisInitialize26 = _assertThisInitialize25.onChange,\n        onChange = _assertThisInitialize26 === void 0 ? noop : _assertThisInitialize26,\n        _assertThisInitialize27 = _assertThisInitialize25.onSlideEnd,\n        onSlideEnd = _assertThisInitialize27 === void 0 ? noop : _assertThisInitialize27;\n      onChange(handles.map(function (d) {\n        return d.val;\n      }));\n      onSlideEnd(handles.map(function (d) {\n        return d.val;\n      }), {\n        activeHandleID: activeHandleID\n      });\n      _this.setState({\n        activeHandleID: ''\n      });\n      if (isBrowser) {\n        document.removeEventListener('touchmove', _this.onTouchMove);\n        document.removeEventListener('touchend', _this.onTouchEnd);\n      }\n    };\n    return _this;\n  }\n  _createClass(Slider, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var pixelToStep = this.state.pixelToStep;\n      var vertical = this.props.vertical; // @ts-ignore\n\n      pixelToStep.setDomain(getSliderDomain(this.slider.current, vertical));\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeListeners();\n    }\n  }, {\n    key: \"removeListeners\",\n    value: function removeListeners() {\n      if (isBrowser) {\n        document.removeEventListener('mousemove', this.onMouseMove);\n        document.removeEventListener('mouseup', this.onMouseUp);\n        document.removeEventListener('touchmove', this.onTouchMove);\n        document.removeEventListener('touchend', this.onTouchEnd);\n      }\n    }\n  }, {\n    key: \"onStart\",\n    value: function onStart(e, handleID, isTouch) {\n      var handles = this.state.handles,\n        _this$props$onSlideSt = this.props.onSlideStart,\n        onSlideStart = _this$props$onSlideSt === void 0 ? noop : _this$props$onSlideSt;\n      if (!isTouch) {\n        e.preventDefault && e.preventDefault();\n      }\n      e.stopPropagation && e.stopPropagation();\n      var found = handles.find(function (value) {\n        return value.key === handleID;\n      });\n      if (found) {\n        this.setState({\n          activeHandleID: handleID\n        });\n        onSlideStart(handles.map(function (d) {\n          return d.val;\n        }), {\n          activeHandleID: handleID\n        });\n        isTouch ? this.addTouchEvents() : this.addMouseEvents();\n      } else {\n        this.setState({\n          activeHandleID: ''\n        });\n        this.handleRailAndTrackClicks(e, isTouch);\n      }\n    }\n  }, {\n    key: \"handleRailAndTrackClicks\",\n    value: function handleRailAndTrackClicks(e, isTouch) {\n      var _this2 = this;\n      var _this$state = this.state,\n        curr = _this$state.handles,\n        pixelToStep = _this$state.pixelToStep,\n        _this$props = this.props,\n        vertical = _this$props.vertical,\n        _this$props$reversed = _this$props.reversed,\n        reversed = _this$props$reversed === void 0 ? false : _this$props$reversed;\n      var slider = this.slider; // double check the dimensions of the slider\n      // @ts-ignore\n\n      pixelToStep.setDomain(getSliderDomain(slider.current, vertical)); // find the closest value (aka step) to the event location\n\n      var updateValue;\n      if (isTouch) {\n        // @ts-ignore\n        updateValue = pixelToStep.getValue(getTouchPosition(vertical, e));\n      } else {\n        // @ts-ignore\n        updateValue = pixelToStep.getValue(vertical ? e.clientY : e.pageX);\n      } // find the closest handle key\n\n      var updateKey = '';\n      var minDiff = Infinity;\n      for (var i = 0; i < curr.length; i++) {\n        var _curr$i = curr[i],\n          key = _curr$i.key,\n          val = _curr$i.val;\n        var diff = Math.abs(val - updateValue);\n        if (diff < minDiff) {\n          updateKey = key;\n          minDiff = diff;\n        }\n      } // generate a \"candidate\" set of values - a suggestion of what to do\n\n      var nextHandles = getUpdatedHandles(curr, updateKey, updateValue, reversed); // submit the candidate values\n\n      this.setState({\n        activeHandleID: updateKey\n      }, function () {\n        _this2.submitUpdate(nextHandles, true);\n        isTouch ? _this2.addTouchEvents() : _this2.addMouseEvents();\n      });\n    }\n  }, {\n    key: \"addMouseEvents\",\n    value: function addMouseEvents() {\n      if (isBrowser) {\n        document.addEventListener('mousemove', this.onMouseMove);\n        document.addEventListener('mouseup', this.onMouseUp);\n      }\n    }\n  }, {\n    key: \"addTouchEvents\",\n    value: function addTouchEvents() {\n      if (isBrowser) {\n        document.addEventListener('touchmove', this.onTouchMove);\n        document.addEventListener('touchend', this.onTouchEnd);\n      }\n    }\n  }, {\n    key: \"submitUpdate\",\n    value: function submitUpdate(next) {\n      var callOnChange = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var _this$props2 = this.props,\n        _this$props2$mode = _this$props2.mode,\n        mode = _this$props2$mode === void 0 ? 1 : _this$props2$mode,\n        _this$props2$step = _this$props2.step,\n        step = _this$props2$step === void 0 ? 0.1 : _this$props2$step,\n        _this$props2$onUpdate = _this$props2.onUpdate,\n        onUpdate = _this$props2$onUpdate === void 0 ? noop : _this$props2$onUpdate,\n        _this$props2$onChange = _this$props2.onChange,\n        onChange = _this$props2$onChange === void 0 ? noop : _this$props2$onChange,\n        _this$props2$reversed = _this$props2.reversed,\n        reversed = _this$props2$reversed === void 0 ? false : _this$props2$reversed; //@ts-ignore\n\n      var getValue = this.state.valueToStep.getValue;\n      this.setState(function (_ref2) {\n        var curr = _ref2.handles;\n        var handles = []; // given the current handles and a candidate set, decide what to do\n\n        if (typeof mode === 'function') {\n          handles = mode(curr, next, step, reversed, getValue);\n          warning(Array.isArray(handles), 'Custom mode function did not return an array.');\n        } else {\n          switch (mode) {\n            case 1:\n              handles = mode1(curr, next);\n              break;\n            case 2:\n              handles = mode2(curr, next);\n              break;\n            case 3:\n              handles = mode3(curr, next, step, reversed, getValue);\n              break;\n            default:\n              handles = next;\n              warning(false, \"\".concat(prfx, \" Invalid mode value.\"));\n          }\n        }\n        onUpdate(handles.map(function (d) {\n          return d.val;\n        }));\n        if (callOnChange) {\n          onChange(handles.map(function (d) {\n            return d.val;\n          }));\n        }\n        return {\n          handles: handles\n        };\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var _this$state2 = this.state,\n        handles = _this$state2.handles,\n        valueToPerc = _this$state2.valueToPerc,\n        activeHandleID = _this$state2.activeHandleID,\n        _this$props3 = this.props,\n        className = _this$props3.className,\n        _this$props3$rootStyl = _this$props3.rootStyle,\n        rootStyle = _this$props3$rootStyl === void 0 ? {} : _this$props3$rootStyl,\n        _this$props3$rootProp = _this$props3.rootProps,\n        rootProps = _this$props3$rootProp === void 0 ? {} : _this$props3$rootProp,\n        _this$props3$componen = _this$props3.component,\n        Comp = _this$props3$componen === void 0 ? 'div' : _this$props3$componen,\n        _this$props3$disabled = _this$props3.disabled,\n        disabled = _this$props3$disabled === void 0 ? false : _this$props3$disabled,\n        _this$props3$flatten = _this$props3.flatten,\n        flatten = _this$props3$flatten === void 0 ? false : _this$props3$flatten;\n      var mappedHandles = handles.map(function (_ref3) {\n        var key = _ref3.key,\n          val = _ref3.val;\n        // @ts-ignore\n        return {\n          id: key,\n          value: val,\n          percent: valueToPerc.getValue(val)\n        };\n      });\n      var children = React.Children.map(this.props.children, function (child) {\n        if (isRCSComponent(child) === true) {\n          return /*#__PURE__*/React.cloneElement(child, {\n            scale: valueToPerc,\n            handles: mappedHandles,\n            activeHandleID: activeHandleID,\n            getEventData: _this3.getEventData,\n            emitKeyboard: disabled ? noop : _this3.onKeyDown,\n            emitMouse: disabled ? noop : _this3.onMouseDown,\n            emitTouch: disabled ? noop : _this3.onTouchStart\n          });\n        } else {\n          return child;\n        }\n      });\n      return flatten ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Comp, _objectSpread2(_objectSpread2({}, rootProps), {}, {\n        style: rootStyle,\n        className: className,\n        ref: this.slider\n      })), children) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Comp, _objectSpread2(_objectSpread2({}, rootProps), {}, {\n        style: rootStyle,\n        className: className,\n        ref: this.slider\n      }), children));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var _nextProps$step = nextProps.step,\n        step = _nextProps$step === void 0 ? 0.1 : _nextProps$step,\n        values = nextProps.values,\n        _nextProps$domain = nextProps.domain,\n        domain = _nextProps$domain === void 0 ? defaultDomain : _nextProps$domain,\n        _nextProps$reversed = nextProps.reversed,\n        reversed = _nextProps$reversed === void 0 ? false : _nextProps$reversed,\n        _nextProps$onUpdate = nextProps.onUpdate,\n        onUpdate = _nextProps$onUpdate === void 0 ? noop : _nextProps$onUpdate,\n        _nextProps$onChange = nextProps.onChange,\n        onChange = _nextProps$onChange === void 0 ? noop : _nextProps$onChange,\n        _nextProps$warnOnChan = nextProps.warnOnChanges,\n        warnOnChanges = _nextProps$warnOnChan === void 0 ? false : _nextProps$warnOnChan;\n      var valueToPerc = prevState.valueToPerc;\n      var valueToStep = prevState.valueToStep;\n      var pixelToStep = prevState.pixelToStep;\n      var nextState = {};\n      if (!valueToPerc || !valueToStep || !pixelToStep) {\n        valueToPerc = new LinearScale();\n        valueToStep = new DiscreteScale();\n        pixelToStep = new DiscreteScale();\n        nextState.valueToPerc = valueToPerc;\n        nextState.valueToStep = valueToStep;\n        nextState.pixelToStep = pixelToStep;\n      }\n      if (prevState.domain === defaultDomain || prevState.step === null || prevState.domain === null || prevState.reversed === null || step !== prevState.step || domain[0] !== prevState.domain[0] || domain[1] !== prevState.domain[1] || reversed !== prevState.reversed) {\n        var _domain = _slicedToArray(domain, 2),\n          min = _domain[0],\n          max = _domain[1];\n        valueToStep.setStep(step).setRange([min, max]).setDomain([min, max]);\n        if (reversed === true) {\n          valueToPerc.setDomain([min, max]).setRange([100, 0]);\n          pixelToStep.setStep(step).setRange([max, min]);\n        } else {\n          valueToPerc.setDomain([min, max]).setRange([0, 100]);\n          pixelToStep.setStep(step).setRange([min, max]);\n        }\n        warning(max > min, \"\".concat(prfx, \" Max must be greater than min (even if reversed). Max is \").concat(max, \". Min is \").concat(min, \".\"));\n        var _getHandles = getHandles(values || prevState.values, reversed, valueToStep, warnOnChanges),\n          handles = _getHandles.handles,\n          changes = _getHandles.changes;\n        if (changes || values === undefined || values === prevState.values) {\n          onUpdate(handles.map(function (d) {\n            return d.val;\n          }));\n          onChange(handles.map(function (d) {\n            return d.val;\n          }));\n        }\n        nextState.step = step;\n        nextState.values = values;\n        nextState.domain = domain === defaultDomain ? _toConsumableArray(domain) : domain;\n        nextState.handles = handles;\n        nextState.reversed = reversed;\n      } else if (!equal(values, prevState.values)) {\n        var _getHandles2 = getHandles(values, reversed, valueToStep, warnOnChanges),\n          _handles = _getHandles2.handles,\n          _changes = _getHandles2.changes;\n        if (_changes) {\n          onUpdate(_handles.map(function (d) {\n            return d.val;\n          }));\n          onChange(_handles.map(function (d) {\n            return d.val;\n          }));\n        }\n        nextState.values = values;\n        nextState.handles = _handles;\n      }\n      if (Object.keys(nextState).length) {\n        return nextState;\n      }\n      return null;\n    }\n  }]);\n  return Slider;\n}(PureComponent);\nexport { Handles, Rail, Slider, Ticks, Tracks, mode1, mode2, mode3 };","map":{"version":3,"names":["prfx","getSortByVal","reversed","arguments","length","undefined","sortByVal","a","b","val","getUpdatedHandles","handles","updateKey","updateValue","index","findIndex","v","key","_handles$index","concat","_toConsumableArray","slice","sort","getSliderDomain","slider","vertical","s","getBoundingClientRect","d0","top","left","d1","bottom","right","isNotValidTouch","_ref","_ref$type","type","touches","toLowerCase","getTouchPosition","e","clientY","pageX","getHandles","values","valueToStep","warn","changes","map","x","getValue","warning","i","mode1","_","next","mode2","curr","mode3","step","indexForMovingHandle","handleMoveIsPositive","c","n","increment","_i","n0","n1","newStep","clone","check","_newStep","_clone","_check","callAll","_len","fns","Array","_key","forEach","fn","NOOP","value","percent","Rail","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","args","call","apply","getRailProps","props","_this$props","emitMouse","emitTouch","_objectSpread2","onMouseDown","onTouchStart","_createClass","render","_this$props2","getEventData","_this$props2$activeHa","activeHandleID","children","renderedChildren","React","Children","only","Component","Handles","autofocus","target","HTMLElement","focus","getHandleProps","id","emitKeyboard","onKeyDown","_this$props2$handles","LinearScale","interpolator","domain","range","createInterpolator","r0","r1","interpolateValue","deinterpolateValue","t","rescale","setDomain","getDomain","setRange","getRange","getTicks","count","d","ticks","defaultGetEventData$1","defaultGetEventData","Ticks","_this$props$scale","scale","_this$props$count","_this$props$getEventD","_this$props$activeHan","Tracks","getTrackProps","_this$props2$left","_this$props2$right","_this$props2$scale","_this$props2$getEvent","tracks","source","push","clamp","min","max","Math","DiscreteScale","setStep","_this$domain","_slicedToArray","_this$range","p","round","isBrowser","window","document","noop","compare","m","equal","reduce","isRCSComponent","item","isValidElement","name","getNextValue","newVal","getPrevValue","defaultDomain","Slider","_PureComponent","state","valueToPerc","pixelToStep","createRef","handleID","validUpKeys","validDownKeys","_assertThisInitialize","_assertThisInitialized","_assertThisInitialize2","_assertThisInitialize3","_assertThisInitialize4","_assertThisInitialize5","_assertThisInitialize6","keyCode","includes","stopPropagation","preventDefault","found","find","currVal","nextHandles","submitUpdate","onStart","isTouch","_assertThisInitialize7","_assertThisInitialize8","current","TouchEvent","MouseEvent","onMouseMove","_assertThisInitialize9","_assertThisInitialize10","_assertThisInitialize11","_assertThisInitialize12","_assertThisInitialize13","onTouchMove","_assertThisInitialize14","_assertThisInitialize15","_assertThisInitialize16","onMouseUp","_assertThisInitialize17","_assertThisInitialize18","_assertThisInitialize19","_assertThisInitialize20","_assertThisInitialize21","onChange","_assertThisInitialize22","onSlideEnd","setState","removeEventListener","onTouchEnd","_assertThisInitialize23","_assertThisInitialize24","_assertThisInitialize25","_assertThisInitialize26","_assertThisInitialize27","componentDidMount","componentWillUnmount","removeListeners","_this$props$onSlideSt","onSlideStart","addTouchEvents","addMouseEvents","handleRailAndTrackClicks","_this2","_this$state","_this$props$reversed","minDiff","Infinity","_curr$i","diff","abs","addEventListener","callOnChange","_this$props2$mode","mode","_this$props2$step","_this$props2$onUpdate","onUpdate","_this$props2$onChange","_this$props2$reversed","_ref2","isArray","_this3","_this$state2","_this$props3","className","_this$props3$rootStyl","rootStyle","_this$props3$rootProp","rootProps","_this$props3$componen","component","Comp","_this$props3$disabled","disabled","_this$props3$flatten","flatten","mappedHandles","_ref3","child","cloneElement","createElement","Fragment","style","ref","getDerivedStateFromProps","nextProps","prevState","_nextProps$step","_nextProps$domain","_nextProps$reversed","_nextProps$onUpdate","_nextProps$onChange","_nextProps$warnOnChan","warnOnChanges","nextState","_domain","_getHandles","_getHandles2","_handles","_changes","Object","keys","PureComponent"],"sources":["/Users/seowoo/Documents/GitHub/ns2-split/node_modules/react-compound-slider/src/Slider/utils.ts","/Users/seowoo/Documents/GitHub/ns2-split/node_modules/react-compound-slider/src/Slider/modes.ts","/Users/seowoo/Documents/GitHub/ns2-split/node_modules/react-compound-slider/src/utils.ts","/Users/seowoo/Documents/GitHub/ns2-split/node_modules/react-compound-slider/src/Rail/Rail.tsx","/Users/seowoo/Documents/GitHub/ns2-split/node_modules/react-compound-slider/src/Handles/Handles.tsx","/Users/seowoo/Documents/GitHub/ns2-split/node_modules/react-compound-slider/src/scales/LinearScale.ts","/Users/seowoo/Documents/GitHub/ns2-split/node_modules/react-compound-slider/src/Ticks/Ticks.tsx","/Users/seowoo/Documents/GitHub/ns2-split/node_modules/react-compound-slider/src/Tracks/Tracks.tsx","/Users/seowoo/Documents/GitHub/ns2-split/node_modules/react-compound-slider/src/scales/DiscreteScale.ts","/Users/seowoo/Documents/GitHub/ns2-split/node_modules/react-compound-slider/src/Slider/Slider.tsx"],"sourcesContent":["import React from 'react';\nimport warning from 'warning';\n\nimport { DiscreteScale } from '../scales/DiscreteScale';\nimport { HandleItem } from '../types';\n\nexport const prfx = 'react-compound-slider:';\n\nexport function getSortByVal(reversed: boolean = false) {\n  return function sortByVal(a: HandleItem, b: HandleItem) {\n    if (a.val > b.val) {\n      return reversed ? -1 : 1;\n    }\n\n    if (b.val > a.val) {\n      return reversed ? 1 : -1;\n    }\n\n    return 0;\n  };\n}\n\nexport function getUpdatedHandles(\n  handles: HandleItem[],\n  updateKey: string,\n  updateValue: number,\n  reversed: boolean = false\n) {\n  const index = handles.findIndex(v => v.key === updateKey);\n\n  if (index !== -1) {\n    const { key, val } = handles[index];\n\n    if (val === updateValue) {\n      return handles;\n    }\n\n    return [\n      ...handles.slice(0, index),\n      { key, val: updateValue },\n      ...handles.slice(index + 1),\n    ].sort(getSortByVal(reversed));\n  }\n\n  return handles;\n}\n\nexport function getSliderDomain(slider: Element | null, vertical: boolean) {\n  if (!slider) {\n    return [0, 0];\n  }\n\n  const s = slider.getBoundingClientRect();\n\n  const d0 = vertical ? s.top : s.left;\n  const d1 = vertical ? s.bottom : s.right;\n\n  return [d0, d1];\n}\n\nexport function isNotValidTouch({\n  type = '',\n  touches,\n}: {\n  type: string;\n  touches: TouchEvent['touches'];\n}) {\n  return (\n    !touches ||\n    touches.length > 1 ||\n    (type.toLowerCase() === 'touchend' && touches.length > 0)\n  );\n}\n\nexport function getTouchPosition(\n  vertical: boolean,\n  e: React.TouchEvent | TouchEvent\n) {\n  return vertical ? e.touches[0].clientY : e.touches[0].pageX;\n}\n\nexport function getHandles(\n  values: ReadonlyArray<number> = [],\n  reversed: boolean,\n  valueToStep: DiscreteScale,\n  warn: boolean\n) {\n  let changes = 0;\n\n  const handles = values\n    .map(x => {\n      const val = valueToStep.getValue(x);\n\n      if (x !== val) {\n        changes += 1;\n        warning(\n          !warn,\n          `${prfx} Invalid value encountered. Changing ${x} to ${val}.`\n        );\n      }\n\n      return val;\n    })\n    .map((val, i) => ({ key: `$$-${i}`, val }))\n    .sort(getSortByVal(reversed));\n\n  return { handles, changes };\n}\n","import { getUpdatedHandles } from './utils';\nimport { HandleItem } from '../types';\n\n// default mode\nexport function mode1(_: HandleItem[], next: HandleItem[]) {\n  return next;\n}\n\n// prevent duplicate values and crossing\nexport function mode2(curr: HandleItem[], next: HandleItem[]) {\n  for (let i = 0; i < curr.length; i++) {\n    if (curr[i].key !== next[i].key) {\n      return curr;\n    }\n\n    if (next[i + 1] && next[i].val === next[i + 1].val) {\n      return curr;\n    }\n  }\n\n  return next;\n}\n\n// pushable mode\nexport function mode3(\n  curr: HandleItem[],\n  next: HandleItem[],\n  step: number,\n  reversed: boolean,\n  getValue: (x: number) => number\n): HandleItem[] {\n  let indexForMovingHandle = -1;\n  let handleMoveIsPositive = true;\n\n  for (let i = 0; i < curr.length; i++) {\n    const c = curr[i];\n    const n = next[i];\n\n    // make sure keys are in same order if not return curr\n    if (!n || n.key !== c.key) {\n      return curr;\n    } else if (n.val !== c.val) {\n      indexForMovingHandle = i;\n      handleMoveIsPositive = n.val - c.val > 0;\n    }\n  }\n\n  // nothing has changed (shouldn't happen but just in case).\n  if (indexForMovingHandle === -1) {\n    return curr;\n  } else {\n    const increment = handleMoveIsPositive ? step : -step;\n\n    for (let i = 0; i < next.length; i++) {\n      const n0 = next[i];\n      const n1 = next[i + 1];\n\n      if (n1 && n0.val === n1.val) {\n        if (i === indexForMovingHandle) {\n          const newStep = n1.val + increment;\n          if (getValue(newStep) === newStep) {\n            const clone = getUpdatedHandles(\n              next,\n              n1.key,\n              n1.val + increment,\n              reversed\n            );\n            const check = mode3(next, clone, step, reversed, getValue);\n\n            if (check === next) {\n              return curr;\n            } else {\n              return check;\n            }\n          } else {\n            return curr;\n          }\n        } else {\n          const newStep = n0.val + increment;\n          if (getValue(newStep) === newStep) {\n            const clone = getUpdatedHandles(\n              next,\n              n0.key,\n              n0.val + increment,\n              reversed\n            );\n            const check = mode3(next, clone, step, reversed, getValue);\n\n            if (check === next) {\n              return curr;\n            } else {\n              return check;\n            }\n          } else {\n            return curr;\n          }\n        }\n      }\n    }\n  }\n\n  return next;\n}\n","export function callAll<T>(...fns: (((e: T) => void) | undefined)[]) {\n  return (e: T) => {\n    return fns.forEach(fn => fn && fn(e));\n  };\n}\n","import React, { Component } from 'react';\nimport { callAll } from '../utils';\n\nimport { OtherProps } from '../types';\nimport { RailProps } from './types';\n\nconst NOOP = () => ({ value: 0, percent: 0 });\n\nexport class Rail extends Component<RailProps> {\n  getRailProps = (props: OtherProps = {}) => {\n    const { emitMouse, emitTouch } = this.props;\n\n    return {\n      ...props,\n      onMouseDown: callAll<React.MouseEvent<Element>>(\n        props && props.onMouseDown,\n        emitMouse\n      ),\n      onTouchStart: callAll(props && props.onTouchStart, emitTouch),\n    };\n  };\n\n  render() {\n    const {\n      getRailProps,\n      props: { getEventData, activeHandleID = '', children },\n    } = this;\n\n    const renderedChildren = children({\n      getEventData: getEventData || NOOP,\n      activeHandleID,\n      getRailProps,\n    });\n    return renderedChildren && React.Children.only(renderedChildren);\n  }\n}\n","import React, { Component } from 'react';\nimport { callAll } from '../utils';\n\nimport { OtherProps } from '../types';\nimport { HandlesProps } from './types';\n\nexport class Handles extends Component<HandlesProps> {\n  autofocus = (e: React.MouseEvent<Element>) => {\n    if (e.target instanceof HTMLElement) {\n      e.target.focus();\n    }\n  };\n\n  getHandleProps = (id: string, props: OtherProps = {}) => {\n    const { emitKeyboard, emitMouse, emitTouch } = this.props;\n\n    return {\n      ...props,\n      onKeyDown: callAll<React.KeyboardEvent<Element>>(\n        props && props.onKeyDown,\n        (e: React.KeyboardEvent<Element>) => emitKeyboard && emitKeyboard(e, id)\n      ),\n      onMouseDown: callAll<React.MouseEvent<Element>>(\n        props && props.onMouseDown,\n        this.autofocus,\n        (e: React.MouseEvent) => emitMouse && emitMouse(e, id)\n      ),\n      onTouchStart: callAll<React.TouchEvent<Element>>(\n        props && props.onTouchStart,\n        (e: React.TouchEvent<Element>) => emitTouch && emitTouch(e, id)\n      ),\n    };\n  };\n\n  render() {\n    const {\n      getHandleProps,\n      props: { activeHandleID = '', children, handles = [] },\n    } = this;\n\n    const renderedChildren = children({\n      handles,\n      activeHandleID,\n      getHandleProps,\n    });\n\n    return renderedChildren && React.Children.only(renderedChildren);\n  }\n}\n","import { ticks } from 'd3-array';\n\nimport { Interpolator } from '../types';\n\nexport class LinearScale {\n  interpolator: Interpolator | null;\n  domain: number[] = [0, 1];\n  range: number[] = [0, 1];\n\n  constructor() {\n    this.domain = [0, 1];\n    this.range = [0, 1];\n    this.interpolator = null;\n  }\n\n  createInterpolator(domain: number[], range: number[]) {\n    const d0 = domain[0];\n    const d1 = domain[1];\n\n    const r0 = range[0];\n    const r1 = range[1];\n\n    if (d1 < d0) {\n      return (x: number) =>\n        this.interpolateValue(r1, r0)(this.deinterpolateValue(d1, d0)(x));\n    } else {\n      return (x: number) =>\n        this.interpolateValue(r0, r1)(this.deinterpolateValue(d0, d1)(x));\n    }\n  }\n\n  interpolateValue(a: number, b: number) {\n    return (\n      (a = +a),\n      (b -= a),\n      function i(t: number) {\n        return a + b * t;\n      }\n    );\n  }\n\n  deinterpolateValue(a: number, b: number) {\n    return (b -= a = +a) ? (x: number) => (x - a) / b : () => b;\n  }\n\n  rescale() {\n    this.interpolator = null;\n\n    return this;\n  }\n\n  getValue(x: number) {\n    const { domain, range } = this;\n\n    return (\n      this.interpolator ||\n      (this.interpolator = this.createInterpolator(domain, range))\n    )(+x);\n  }\n\n  setDomain(val: number[]) {\n    this.domain = [val[0], val[1]];\n\n    this.rescale();\n\n    return this;\n  }\n\n  getDomain() {\n    return this.domain;\n  }\n\n  setRange(val: number[]) {\n    this.range = [val[0], val[1]];\n\n    return this;\n  }\n\n  getRange() {\n    return this.range;\n  }\n\n  getTicks(count: number) {\n    const d = this.domain;\n    return ticks(d[0], d[d.length - 1], count ? count : 10);\n  }\n}\n","import React, { Component } from 'react';\n\nimport { TicksProps } from './types';\nimport { LinearScale } from '../scales/LinearScale';\n\nconst defaultGetEventData = () => ({ value: 0, percent: 0 });\n\nexport class Ticks extends Component<TicksProps> {\n  public render() {\n    const {\n      children,\n      values,\n      scale = new LinearScale(),\n      count = 10,\n      getEventData = defaultGetEventData,\n      activeHandleID = '',\n    } = this.props;\n\n    const ticks = (values ? values : scale.getTicks(count)).map((value) => ({\n      id: `$$-${value}`,\n      value,\n      percent: scale.getValue(value),\n    }));\n\n    const renderedChildren = children({ getEventData, activeHandleID, ticks });\n    return renderedChildren && React.Children.only(renderedChildren);\n  }\n}\n","import React, { Component } from 'react';\n\nimport { callAll } from '../utils';\nimport { LinearScale } from '../scales/LinearScale';\nimport { TracksProps } from './types';\nimport { OtherProps } from '../types';\n\nconst defaultGetEventData = () => ({ value: 0, percent: 0 });\n\nexport class Tracks extends Component<TracksProps> {\n  getTrackProps = (props?: OtherProps) => {\n    const { emitMouse, emitTouch } = this.props;\n\n    return {\n      ...(props || {}),\n      onMouseDown: callAll<React.MouseEvent<Element>>(\n        props && props.onMouseDown,\n        emitMouse\n      ),\n      onTouchStart: callAll<React.TouchEvent<Element>>(\n        props && props.onTouchStart,\n        emitTouch\n      ),\n    };\n  };\n\n  render() {\n    const {\n      getTrackProps,\n      props: {\n        children,\n        left = true,\n        right = true,\n        scale = new LinearScale(),\n        handles = [],\n        getEventData = defaultGetEventData,\n        activeHandleID = '',\n      },\n    } = this;\n\n    const domain = scale.getDomain();\n    const tracks = [];\n\n    for (let i = 0; i < handles.length + 1; i++) {\n      let source = handles[i - 1];\n      let target = handles[i];\n\n      if (i === 0 && left === true) {\n        source = { id: '$', value: domain[0], percent: 0 };\n      } else if (i === handles.length && right === true) {\n        target = { id: '$', value: domain[1], percent: 100 };\n      }\n\n      if (source && target) {\n        tracks.push({\n          id: `${source.id}-${target.id}`,\n          source,\n          target,\n        });\n      }\n    }\n\n    const renderedChildren = children({\n      getEventData,\n      activeHandleID,\n      tracks,\n      getTrackProps,\n    });\n\n    return renderedChildren && React.Children.only(renderedChildren);\n  }\n}\n","function clamp(value: number, min: number, max: number) {\n  return Math.min(Math.max(value, min), max);\n}\n\nexport class DiscreteScale {\n  step: number = 1;\n  domain: number[] = [0, 1];\n  range: number[] = [0, 1];\n\n  setDomain = (val: number[]) => {\n    this.domain = [val[0], val[1]];\n\n    return this;\n  };\n\n  setRange = (val: number[]) => {\n    this.range = [val[0], val[1]];\n\n    return this;\n  };\n\n  setStep = (val: number) => {\n    this.step = val;\n\n    return this;\n  };\n\n  getValue = (x: number) => {\n    const {\n      domain: [d0, d1],\n      range: [r0, r1],\n      step,\n    } = this;\n\n    const p = (clamp(x, d0, d1) - d0) / (d1 - d0);\n    const b = step * Math.round((p * (r1 - r0)) / step) + r0;\n\n    return clamp(b, r0 < r1 ? r0 : r1, r1 > r0 ? r1 : r0);\n  };\n}\n","import React, { PureComponent, isValidElement } from 'react';\nimport warning from 'warning';\nimport { mode1, mode2, mode3 } from './modes';\nimport {\n  isNotValidTouch,\n  getTouchPosition,\n  getUpdatedHandles,\n  getSliderDomain,\n  getHandles,\n  prfx,\n} from './utils';\nimport { Rail } from '../Rail';\nimport { Handles } from '../Handles';\nimport { Ticks } from '../Ticks';\nimport { Tracks } from '../Tracks';\nimport { LinearScale } from '../scales/LinearScale';\nimport { DiscreteScale } from '../scales/DiscreteScale';\n\nimport { SliderProps, SliderState } from './types';\nimport { HandleItem } from '../types';\n\nconst isBrowser =\n  typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst noop = () => {};\n\nconst compare = (b: any[]) => (m: any, d: any, i: number) => m && b[i] === d;\n\nconst equal = (a: any, b: any) => {\n  return a === b || (a.length === b.length && a.reduce(compare(b), true));\n};\n\ninterface RCSComponent {\n  type: {\n    name: 'Rail' | 'Handles' | 'Ticks' | 'Tracks';\n  };\n}\n\nconst isRCSComponent = (item: React.ReactNode) => {\n  if (!isValidElement(item)) {\n    return false;\n  }\n\n  const type = (item as RCSComponent).type;\n  const name = type ? type.name : '';\n\n  return (\n    name === Handles.name ||\n    name === Rail.name ||\n    name === Ticks.name ||\n    name === Tracks.name\n  );\n};\n\nconst getNextValue = (\n  curr: number,\n  step: number,\n  domain: ReadonlyArray<number>,\n  reversed: boolean\n) => {\n  const newVal = reversed ? curr - step : curr + step;\n  return reversed ? Math.max(domain[0], newVal) : Math.min(domain[1], newVal);\n};\n\nconst getPrevValue = (\n  curr: number,\n  step: number,\n  domain: ReadonlyArray<number>,\n  reversed: boolean\n) => {\n  const newVal = reversed ? curr + step : curr - step;\n  return reversed ? Math.min(domain[1], newVal) : Math.max(domain[0], newVal);\n};\n\nconst defaultDomain = [0, 100];\n\nexport class Slider<\n  T extends HTMLDivElement = HTMLDivElement\n> extends PureComponent<SliderProps, SliderState> {\n  state = {\n    step: 0.1,\n    values: [],\n    domain: defaultDomain,\n    handles: [] as HandleItem[],\n    reversed: false,\n    activeHandleID: '',\n    valueToPerc: null,\n    valueToStep: null,\n    pixelToStep: null,\n  };\n\n  slider = React.createRef<T>();\n\n  static getDerivedStateFromProps(\n    nextProps: SliderProps,\n    prevState: SliderState\n  ) {\n    const {\n      step = 0.1,\n      values,\n      domain = defaultDomain,\n      reversed = false,\n      onUpdate = noop,\n      onChange = noop,\n      warnOnChanges = false,\n    } = nextProps;\n    let valueToPerc = prevState.valueToPerc;\n    let valueToStep = prevState.valueToStep;\n    let pixelToStep = prevState.pixelToStep;\n\n    const nextState: Partial<SliderState> = {};\n\n    if (!valueToPerc || !valueToStep || !pixelToStep) {\n      valueToPerc = new LinearScale();\n      valueToStep = new DiscreteScale();\n      pixelToStep = new DiscreteScale();\n\n      nextState.valueToPerc = valueToPerc;\n      nextState.valueToStep = valueToStep;\n      nextState.pixelToStep = pixelToStep;\n    }\n\n    if (\n      prevState.domain === defaultDomain ||\n      prevState.step === null ||\n      prevState.domain === null ||\n      prevState.reversed === null ||\n      step !== prevState.step ||\n      domain[0] !== prevState.domain[0] ||\n      domain[1] !== prevState.domain[1] ||\n      reversed !== prevState.reversed\n    ) {\n      const [min, max] = domain;\n      valueToStep.setStep(step).setRange([min, max]).setDomain([min, max]);\n\n      if (reversed === true) {\n        valueToPerc.setDomain([min, max]).setRange([100, 0]);\n        pixelToStep.setStep(step).setRange([max, min]);\n      } else {\n        valueToPerc.setDomain([min, max]).setRange([0, 100]);\n        pixelToStep.setStep(step).setRange([min, max]);\n      }\n\n      warning(\n        max > min,\n        `${prfx} Max must be greater than min (even if reversed). Max is ${max}. Min is ${min}.`\n      );\n\n      const { handles, changes } = getHandles(\n        values || prevState.values,\n        reversed,\n        valueToStep,\n        warnOnChanges\n      );\n\n      if (changes || values === undefined || values === prevState.values) {\n        onUpdate(handles.map((d) => d.val));\n        onChange(handles.map((d) => d.val));\n      }\n\n      nextState.step = step;\n      nextState.values = values;\n      nextState.domain = domain === defaultDomain ? [...domain] : domain;\n      nextState.handles = handles;\n      nextState.reversed = reversed;\n    } else if (!equal(values, prevState.values)) {\n      const { handles, changes } = getHandles(\n        values,\n        reversed,\n        valueToStep,\n        warnOnChanges\n      );\n\n      if (changes) {\n        onUpdate(handles.map((d) => d.val));\n        onChange(handles.map((d) => d.val));\n      }\n\n      nextState.values = values;\n      nextState.handles = handles;\n    }\n\n    if (Object.keys(nextState).length) {\n      return nextState;\n    }\n\n    return null;\n  }\n\n  componentDidMount() {\n    const { pixelToStep } = this.state;\n    const { vertical } = this.props;\n\n    // @ts-ignore\n    pixelToStep.setDomain(getSliderDomain(this.slider.current, vertical));\n  }\n\n  componentWillUnmount() {\n    this.removeListeners();\n  }\n\n  removeListeners() {\n    if (isBrowser) {\n      document.removeEventListener('mousemove', this.onMouseMove);\n      document.removeEventListener('mouseup', this.onMouseUp);\n      document.removeEventListener('touchmove', this.onTouchMove);\n      document.removeEventListener('touchend', this.onTouchEnd);\n    }\n  }\n\n  onKeyDown = (e: KeyboardEvent, handleID: string) => {\n    let validUpKeys = ['ArrowRight', 'ArrowUp'];\n    let validDownKeys = ['ArrowDown', 'ArrowLeft'];\n\n    const {\n      state: { handles },\n      props: {\n        step = 0.1,\n        reversed = false,\n        vertical = false,\n        domain = [0, 100] as number[],\n      },\n    } = this;\n    const key = e.key || `${e.keyCode}`;\n\n    if (!validUpKeys.concat(validDownKeys).includes(key)) {\n      return;\n    }\n\n    if (vertical) {\n      [validUpKeys, validDownKeys] = [validDownKeys, validUpKeys];\n    }\n\n    e.stopPropagation && e.stopPropagation();\n    e.preventDefault && e.preventDefault();\n\n    const found = handles.find((value) => {\n      return value.key === handleID;\n    });\n\n    if (!found) {\n      return;\n    }\n\n    const currVal = found.val;\n    let newVal = currVal;\n\n    if (validUpKeys.includes(key)) {\n      newVal = getNextValue(currVal, step, domain, reversed);\n    } else if (validDownKeys.includes(key)) {\n      newVal = getPrevValue(currVal, step, domain, reversed);\n    }\n    const nextHandles = handles.map((v) =>\n      v.key === handleID ? { key: v.key, val: newVal } : v\n    );\n\n    this.submitUpdate(nextHandles, true);\n  };\n\n  onMouseDown = (e: MouseEvent, handleID: string) => {\n    this.onStart(e, handleID, false);\n  };\n\n  onTouchStart = (e: TouchEvent, handleID: string) => {\n    if (isNotValidTouch(e)) {\n      return;\n    }\n\n    this.onStart(e, handleID, true);\n  };\n\n  onStart(e: MouseEvent | TouchEvent, handleID: string, isTouch: boolean) {\n    const {\n      state: { handles },\n      props: { onSlideStart = noop },\n    } = this;\n\n    if (!isTouch) {\n      e.preventDefault && e.preventDefault();\n    }\n\n    e.stopPropagation && e.stopPropagation();\n\n    const found = handles.find((value) => {\n      return value.key === handleID;\n    });\n\n    if (found) {\n      this.setState({ activeHandleID: handleID });\n      onSlideStart(\n        handles.map((d) => d.val),\n        { activeHandleID: handleID }\n      );\n      isTouch ? this.addTouchEvents() : this.addMouseEvents();\n    } else {\n      this.setState({ activeHandleID: '' });\n      this.handleRailAndTrackClicks(e, isTouch);\n    }\n  }\n\n  handleRailAndTrackClicks(e: MouseEvent | TouchEvent, isTouch: boolean) {\n    const {\n      state: { handles: curr, pixelToStep },\n      props: { vertical, reversed = false },\n    } = this;\n    const { slider } = this;\n\n    // double check the dimensions of the slider\n    // @ts-ignore\n    pixelToStep.setDomain(getSliderDomain(slider.current, vertical));\n\n    // find the closest value (aka step) to the event location\n    let updateValue: number;\n\n    if (isTouch) {\n      // @ts-ignore\n      updateValue = pixelToStep.getValue(getTouchPosition(vertical, e));\n    } else {\n      // @ts-ignore\n      updateValue = pixelToStep.getValue(vertical ? e.clientY : e.pageX);\n    }\n\n    // find the closest handle key\n    let updateKey = '';\n    let minDiff = Infinity;\n\n    for (let i = 0; i < curr.length; i++) {\n      const { key, val } = curr[i];\n      const diff = Math.abs(val - updateValue);\n\n      if (diff < minDiff) {\n        updateKey = key;\n        minDiff = diff;\n      }\n    }\n\n    // generate a \"candidate\" set of values - a suggestion of what to do\n    const nextHandles = getUpdatedHandles(\n      curr,\n      updateKey,\n      updateValue,\n      reversed\n    );\n\n    // submit the candidate values\n    this.setState({ activeHandleID: updateKey }, () => {\n      this.submitUpdate(nextHandles, true);\n      isTouch ? this.addTouchEvents() : this.addMouseEvents();\n    });\n  }\n\n  getEventData = (e: React.MouseEvent | React.TouchEvent, isTouch: boolean) => {\n    const {\n      state: { pixelToStep, valueToPerc },\n      props: { vertical },\n    } = this;\n\n    // double check the dimensions of the slider\n    // @ts-ignore\n    pixelToStep.setDomain(getSliderDomain(this.slider.current, vertical));\n\n    let value;\n\n    if (isTouch && e instanceof TouchEvent) {\n      // @ts-ignore\n      value = pixelToStep.getValue(getTouchPosition(vertical, e));\n    } else if (e instanceof MouseEvent) {\n      // @ts-ignore\n      value = pixelToStep.getValue(vertical ? e.clientY : e.pageX);\n    }\n    return {\n      value,\n      // @ts-ignore\n      percent: valueToPerc.getValue(value),\n    };\n  };\n\n  addMouseEvents() {\n    if (isBrowser) {\n      document.addEventListener('mousemove', this.onMouseMove);\n      document.addEventListener('mouseup', this.onMouseUp);\n    }\n  }\n\n  addTouchEvents() {\n    if (isBrowser) {\n      document.addEventListener('touchmove', this.onTouchMove);\n      document.addEventListener('touchend', this.onTouchEnd);\n    }\n  }\n\n  onMouseMove = (e: MouseEvent) => {\n    const {\n      state: { handles: curr, pixelToStep, activeHandleID = '' },\n      props: { vertical, reversed = false },\n    } = this;\n    // double check the dimensions of the slider\n    // @ts-ignore\n    pixelToStep.setDomain(getSliderDomain(this.slider.current, vertical));\n\n    // find the closest value (aka step) to the event location\n    // @ts-ignore\n    const updateValue = pixelToStep.getValue(vertical ? e.clientY : e.pageX);\n\n    // generate a \"candidate\" set of values - a suggestion of what to do\n    const nextHandles = getUpdatedHandles(\n      curr,\n      activeHandleID,\n      updateValue,\n      reversed\n    );\n\n    // submit the candidate values\n    this.submitUpdate(nextHandles);\n  };\n\n  onTouchMove = (e: TouchEvent) => {\n    const {\n      state: { handles: curr, pixelToStep, activeHandleID },\n      props: { vertical, reversed },\n    } = this;\n    if (pixelToStep === null || isNotValidTouch(e)) {\n      return;\n    }\n\n    // double check the dimensions of the slider\n    // @ts-ignore\n    pixelToStep.setDomain(getSliderDomain(this.slider.current, vertical));\n\n    // find the closest value (aka step) to the event location\n    // @ts-ignore\n    const updateValue = pixelToStep.getValue(getTouchPosition(vertical, e));\n\n    // generate a \"candidate\" set of values - a suggestion of what to do\n    const nextHandles = getUpdatedHandles(\n      curr,\n      activeHandleID,\n      updateValue,\n      reversed\n    );\n\n    // submit the candidate values\n    this.submitUpdate(nextHandles);\n  };\n\n  submitUpdate(next: HandleItem[], callOnChange = false) {\n    const {\n      mode = 1,\n      step = 0.1,\n      onUpdate = noop,\n      onChange = noop,\n      reversed = false,\n    } = this.props;\n    //@ts-ignore\n    const { getValue } = this.state.valueToStep;\n\n    this.setState(({ handles: curr }) => {\n      let handles: HandleItem[] = [];\n\n      // given the current handles and a candidate set, decide what to do\n      if (typeof mode === 'function') {\n        handles = mode(curr, next, step, reversed, getValue);\n        warning(\n          Array.isArray(handles),\n          'Custom mode function did not return an array.'\n        );\n      } else {\n        switch (mode) {\n          case 1:\n            handles = mode1(curr, next);\n            break;\n          case 2:\n            handles = mode2(curr, next);\n            break;\n          case 3:\n            handles = mode3(curr, next, step, reversed, getValue);\n            break;\n          default:\n            handles = next;\n            warning(false, `${prfx} Invalid mode value.`);\n        }\n      }\n\n      onUpdate(handles.map((d) => d.val));\n\n      if (callOnChange) {\n        onChange(handles.map((d) => d.val));\n      }\n\n      return { handles };\n    });\n  }\n\n  onMouseUp = () => {\n    const {\n      state: { handles = [], activeHandleID },\n      props: { onChange = noop, onSlideEnd = noop },\n    } = this;\n\n    onChange(handles.map((d) => d.val));\n    onSlideEnd(\n      handles.map((d) => d.val),\n      { activeHandleID }\n    );\n\n    this.setState({ activeHandleID: '' });\n\n    if (isBrowser) {\n      document.removeEventListener('mousemove', this.onMouseMove);\n      document.removeEventListener('mouseup', this.onMouseUp);\n    }\n  };\n\n  onTouchEnd = () => {\n    const {\n      state: { handles, activeHandleID },\n      props: { onChange = noop, onSlideEnd = noop },\n    } = this;\n\n    onChange(handles.map((d) => d.val));\n    onSlideEnd(\n      handles.map((d) => d.val),\n      { activeHandleID }\n    );\n\n    this.setState({ activeHandleID: '' });\n\n    if (isBrowser) {\n      document.removeEventListener('touchmove', this.onTouchMove);\n      document.removeEventListener('touchend', this.onTouchEnd);\n    }\n  };\n\n  render() {\n    const {\n      state: { handles, valueToPerc, activeHandleID },\n      props: {\n        className,\n        rootStyle = {},\n        rootProps = {},\n        component: Comp = 'div',\n        disabled = false,\n        flatten = false,\n      },\n    } = this;\n\n    const mappedHandles = handles.map(({ key, val }) => {\n      // @ts-ignore\n      return { id: key, value: val, percent: valueToPerc.getValue(val) };\n    });\n\n    const children = React.Children.map(this.props.children, (child) => {\n      if (isRCSComponent(child) === true) {\n        return React.cloneElement(child as React.ReactElement, {\n          scale: valueToPerc,\n          handles: mappedHandles,\n          activeHandleID,\n          getEventData: this.getEventData,\n          emitKeyboard: disabled ? noop : this.onKeyDown,\n          emitMouse: disabled ? noop : this.onMouseDown,\n          emitTouch: disabled ? noop : this.onTouchStart,\n        });\n      } else {\n        return child;\n      }\n    });\n\n    return flatten ? (\n      <>\n        {React.createElement(Comp, {\n          ...rootProps,\n          style: rootStyle,\n          className: className,\n          ref: this.slider,\n        })}\n        {children}\n      </>\n    ) : (\n      <>\n        {React.createElement(\n          Comp,\n          {\n            ...rootProps,\n            style: rootStyle,\n            className: className,\n            ref: this.slider,\n          },\n          children\n        )}\n      </>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}